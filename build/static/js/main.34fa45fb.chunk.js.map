{"version":3,"sources":["redux/reducers/book.ts","types.ts","redux/reducers/user.ts","redux/reducers/index.ts","redux/sagas/book.ts","redux/sagas/index.ts","redux/store.ts","router/AdminRoute.tsx","router/PrivateRoute.tsx","components/Navbar/login.tsx","redux/actions/userActions.ts","components/Navbar/logout.tsx","components/Navbar/admin.tsx","components/Navbar/register.tsx","components/Navbar/userAvatar.tsx","components/Navbar/index.tsx","redux/actions/bookActions.ts","components/Books/book.tsx","components/Books/index.tsx","hooks/useCategories.tsx","components/Sidebar/index.tsx","pages/Home.tsx","pages/CreateBook.tsx","pages/EditBook.tsx","components/Edit Admin/single.tsx","pages/EditAdmin.tsx","components/Delete Admin/single.tsx","pages/DeleteAdmin.tsx","pages/Admin.tsx","pages/Register.tsx","components/Navbar/google.tsx","components/Login Card/login.tsx","pages/Login.tsx","components/Avatar/uploadButton.tsx","components/Avatar/profile.tsx","components/User Profile/borrows.tsx","components/User Profile/returns.tsx","pages/Profile.tsx","components/Book Detail/author.tsx","components/Book Detail/borrow.tsx","components/Book Detail/return.tsx","components/Book Detail/accordion.tsx","pages/BookDetail.tsx","components/Forbidden/NotAuthorized.tsx","Routes.tsx","App.tsx","theme/light.tsx","serviceWorker.ts","index.tsx"],"names":["book","state","loading","allBooks","singleBook","errors","filteredBooks","response","message","status","action","type","books","payload","error","singleBookResponse","singleBookError","error2","editResponse","editError","createResponse","createError","data","bookId","newList","filter","item","_id","deleteError","borrowResponse","newBookList","borrowedBookIndex","findIndex","JSON","stringify","borrowers","borrowError","returnResponse","updatedBookList","returnedBookIndex","returnError","user","loginError","logoutResponse","logoutError","feedback","updateResponse","updateError","createRootReducer","combineReducers","saveBookState","select","localStorage","setItem","takeLatest","rootSaga","all","bookSagas","initial","connect","isAuthenticated","isAdmin","Component","component","rest","props","to","path","render","userId","match","params","LoginButton","history","useHistory","Button","variant","size","onClick","push","login","username","password","dispatch","a","axios","post","withCredentials","loginSucceed","loginFailed","logout","get","logoutSucceed","logoutFailed","updateUser","res","updateUserSucceed","updateUserFailed","editUser","changes","put","editUserSucceed","editUserFailed","LogoutButton","useDispatch","handleLogout","AdminButton","useSelector","startIcon","RegisterButton","useStyles","makeStyles","avatar","backgroundColor","cursor","UserAvatar","style","Avatar","src","imageUrl","classes","root","useStyle","title","fontFamily","fontSize","color","textDecoration","Navbar","AppBar","elevation","position","Toolbar","Typography","deleteBook","delete","deleteBookSucceed","deleteBookFailed","borrowBook","bookUrl","borrowBookSucceed","borrowBookFailed","returnBook","returnBookSucceed","returnBookFailed","fetchBookSucceed","fetchBookIndividualSucceed","fetchBookQuerySucceed","fetchBookFailed","fetchBookIndividualFailed","fetchBookQueryFailed","editBookFailed","container","display","flexDirection","alignItems","justifyContent","maxHeight","media","height","width","alignSelf","text","fontWeight","marginBottom","button","margin","IndividualBook","bookInfo","useState","deleteDialog","setDeleteDialog","handleClose","Dialog","open","keepMounted","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","DialogActions","Card","key","CardMedia","image","CardContent","authors","map","author","marginRight","fontStyle","quantity","IconButton","Books","className","useCategories","categories","setCategories","useEffect","stringArray","uniqueArray","concat","value","indexOf","fetchCategories","formControl","minWidth","icon","Sidebar","titleQuery","setTitleQuery","authorQuery","setAuthorQuery","categoryQuery","setCategoryQuery","handleRefresh","onSubmit","e","preventDefault","fetchBookQuery","InputBase","placeholder","inputProps","onChange","event","target","Divider","orientation","flexItem","InputLabel","Select","multiple","input","Input","renderValue","selected","Chip","label","category","MenuItem","Checkbox","checked","ListItemText","primary","disableElevation","Home","form","CreateBook","bookResponse","uploadLoading","setUploadLoading","setTitle","isbn","setIsbn","publisher","setPublisher","publishYear","setPublishYear","setQuantity","setImage","authorsState","setAuthors","authorField","setAuthorField","categoriesState","categoryField","setCategoryField","submitHandler","parseInt","setTimeout","handleDelete","newAuthorsState","index","splice","handleDelete2","newCategoriesState","handleUpload","files","FormData","append","secure_url","Alert","severity","TextField","name","required","InputProps","endAdornment","InputAdornment","length","onDelete","undefined","alt","EditBook","fetchBookInfo","handleDeleteAuthor","newAuthors","removeItemIndex","handleDeleteCategory","newCategories","handleSubmit","EditAdminIndividual","EditAdmin","DeleteAdminIndividual","DeleteAdmin","Admin","Paper","flexBasis","Register","userResponse","createNewUser","values","fullName","email","viewBox","xmlns","fill","d","transform","initialValues","confirmPassword","actions","validationSchema","Yup","shape","matches","test","this","parent","touched","handleBlur","handleChange","isSubmitting","helperText","onBlur","Tooltip","TransitionComponent","Zoom","aria-label","disabled","GoogleLoginButton","googleResponse","id_token","tokenObj","clientId","renderProps","faGoogle","buttonText","onSuccess","onFailure","cookiePolicy","body","LoginCard","setUsername","setPassword","Link","Login","UploadButton","userInfo","changeState","setChanges","editUserAvatar","htmlFor","ProfileAvatar","Badge","overlap","anchorOrigin","vertical","horizontal","badgeContent","BorrowSection","borrows","borrowedBook","Date","borrowDate","toLocaleDateString","dueDate","ReturnSection","returns","returnedBook","returnDate","textAlign","UserProfile","isEditing","setEditing","BookAuthor","href","BookActionBorrow","handleBorrow","endIcon","BookActionReturn","handleReturn","chip","BookAccordion","description","expanded","setExpanded","panel","newExpanded","Accordion","square","AccordionSummary","aria-controls","expandIcon","AccordionDetails","BookDetail","fetchIndividualBook","maxWidth","some","top","left","padding","NotAuthorizedPage","Routes","exact","LogIn","App","breakpoints","createBreakpoints","lightMode","createMuiTheme","overrides","MuiAppBar","colorPrimary","MuiButton","textTransform","borderRadius","outlinedSizeSmall","border","containedSizeSmall","containedSizeLarge","textSizeSmall","containedSecondary","MuiAvatar","MuiSelect","MuiInputLabel","lineHeight","letterSpacing","MuiInputBase","colorSecondary","MuiChip","MuiToolbar","gutters","up","paddingLeft","paddingRight","MuiTooltip","tooltip","MuiBadge","anchorOriginBottomRightCircle","right","MuiIconButton","Boolean","window","location","hostname","store","initialState","sagaMiddleware","createSagaMiddleware","middlewares","thunk","composeEnhancers","compose","savedStore","getItem","parse","createStore","applyMiddleware","run","makeStore","WithProvider","ThemeProvider","theme","CssBaseline","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.34fa45fb.chunk.js","sourcesContent":["import {\n  BOOK_LIST_REQUESTED,\n  BOOK_LIST_SUCCEED,\n  BOOK_LIST_FAILED,\n  BOOK_INDIVIDUAL_REQUESTED,\n  BOOK_INDIVIDUAL_SUCCEED,\n  BOOK_INDIVIDUAL_FAILED,\n  BOOK_QUERY_REQUESTED,\n  BOOK_QUERY_SUCCEED,\n  BOOK_QUERY_FAILED,\n  EDIT_BOOK_REQUESTED,\n  EDIT_BOOK_SUCCEED,\n  EDIT_BOOK_FAILED,\n  CREATE_BOOK_SUCCEED,\n  CREATE_BOOK_FAILED,\n  DELETE_BOOK_REQUESTED,\n  DELETE_BOOK_SUCCEED,\n  DELETE_BOOK_FAILED,\n  BORROW_BOOK_REQUESTED,\n  BORROW_BOOK_SUCCEED,\n  BORROW_BOOK_FAILED,\n  RETURN_BOOK_REQUESTED,\n  RETURN_BOOK_SUCCEED,\n  RETURN_BOOK_FAILED,\n  HIDE_MESSAGE,\n  FetchBookActions,\n  BookState,\n  BookResponse,\n} from '../../types'\n\nexport default function book(\n  state: BookState = {\n    loading: true,\n    allBooks: [],\n    singleBook: '',\n    errors: [],\n    filteredBooks: [],\n    response: [],\n    message: '',\n    status: ''\n  },\n  action: FetchBookActions\n): BookState {\n  switch (action.type) {\n    case BOOK_LIST_REQUESTED:\n      return {\n        ...state,\n        loading: true,\n      }\n    case BOOK_LIST_SUCCEED:\n      const books = action.payload\n      return {\n        ...state,\n        loading: false,\n        allBooks: books,\n        errors: [],\n        filteredBooks: books,\n      }\n    case BOOK_LIST_FAILED:\n      const error = action.payload\n      return {\n        ...state,\n        errors: [...state.errors, error],\n      }\n    case BOOK_INDIVIDUAL_REQUESTED:\n      return {\n        ...state,\n        loading: true\n      }\n    case BOOK_INDIVIDUAL_SUCCEED:\n      const singleBookResponse = action.payload\n      return {\n        ...state,\n        loading: false,\n        singleBook: singleBookResponse\n      }\n    case BOOK_INDIVIDUAL_FAILED:\n      const singleBookError = action.payload\n      return {\n        ...state,\n        loading: false,\n        message: singleBookError.message\n      }\n    case BOOK_QUERY_REQUESTED:\n      return {\n        ...state,\n        loading: true,\n      }\n    case BOOK_QUERY_SUCCEED:\n      const filteredBooks = action.payload\n      return {\n        ...state,\n        loading: false,\n        errors: [],\n        filteredBooks: filteredBooks,\n      }\n    case BOOK_QUERY_FAILED:\n      const error2 = action.payload\n      return {\n        ...state,\n        errors: [...state.errors, error2],\n      }\n    case EDIT_BOOK_REQUESTED:\n      return {\n        ...state,\n        loading: true\n      }\n    case EDIT_BOOK_SUCCEED:\n      const editResponse = action.payload\n      return {\n        ...state,\n        loading: false,\n        status: editResponse.status,\n        message: editResponse.message\n      }\n    case EDIT_BOOK_FAILED:\n      const editError = action.payload\n      return {\n        ...state,\n        loading: false,\n        status: editError.status,\n        message: editError.message\n      }\n    case CREATE_BOOK_SUCCEED:\n      const createResponse = action.payload\n      return {\n        ...state,\n        loading: false,\n        status: createResponse.status,\n        message: createResponse.message\n      }\n    case CREATE_BOOK_FAILED:\n      const createError = action.payload\n      return {\n        ...state,\n        loading: false,\n        status: createError.status,\n        message: createError.message\n      }\n    case DELETE_BOOK_REQUESTED:\n      return {\n        ...state,\n        loading: true\n      }\n    case DELETE_BOOK_SUCCEED:\n      const { data, bookId } = action.payload\n      let newList = state.allBooks.filter(\n        (item: BookResponse) => item._id !== bookId\n      )\n      return {\n        ...state,\n        loading: false,\n        allBooks: newList,\n        status: data.status,\n        message: data.message\n      }\n    case DELETE_BOOK_FAILED:\n      const deleteError = action.payload\n      return {\n        ...state,\n        loading: false,\n        status: deleteError.status,\n        message: deleteError.message\n      }\n    case BORROW_BOOK_REQUESTED:\n      return {\n        ...state,\n        loading: true,\n      }\n    case BORROW_BOOK_SUCCEED:\n      const borrowResponse = action.payload\n      let newBookList = state.allBooks\n      let borrowedBookIndex = newBookList.findIndex((item: BookResponse) => JSON.stringify(item._id) ===  JSON.stringify(borrowResponse.book._id))\n      newBookList[borrowedBookIndex].borrowers = borrowResponse.book.borrowers\n      return {\n        ...state,\n        loading: false,\n        allBooks: newBookList,\n        status: borrowResponse.status,\n        message: borrowResponse.message\n      }\n    case BORROW_BOOK_FAILED:\n      const borrowError = action.payload\n      return {\n        ...state,\n        loading: false,\n        status: borrowError.status,\n        message: borrowError.message\n      } \n    case RETURN_BOOK_REQUESTED: \n      return {\n        ...state,\n        loading: true\n      }\n    case RETURN_BOOK_SUCCEED:\n      const returnResponse = action.payload\n      let updatedBookList = state.allBooks\n      let returnedBookIndex = updatedBookList.findIndex((item: BookResponse) => JSON.stringify(item._id) === JSON.stringify(returnResponse.book._id))\n      updatedBookList[returnedBookIndex].borrowers = returnResponse.book.borrowers\n      return {\n        ...state,\n        loading: false,\n        allBooks: updatedBookList,\n        status: returnResponse.status,\n        message: returnResponse.message\n      }\n    case RETURN_BOOK_FAILED:\n      const returnError = action.payload\n      return {\n        ...state,\n        loading: false,\n        status: returnError.status,\n        message: returnError.message\n      }\n    case HIDE_MESSAGE:\n      return {\n        ...state,\n        message: '',\n        status: ''\n      }\n    default:\n      return state\n  }\n}","// ========  //\n//  ACTIONS  //\n// ========  //\n\nexport const BOOK_LIST_REQUESTED = 'BOOK_LIST_REQUESTED'\nexport const BOOK_LIST_SUCCEED = 'BOOK_LIST_SUCCEED'\nexport const BOOK_LIST_FAILED = 'BOOK_LIST_FAILED'\nexport const BOOK_INDIVIDUAL_REQUESTED = 'BOOK_INDIVIDUAL_REQUESTED'\nexport const BOOK_INDIVIDUAL_SUCCEED = 'BOOK_INDIVIDUAL_SUCCEED'\nexport const BOOK_INDIVIDUAL_FAILED = 'BOOK_INDIVIDUAL_FAILED'\nexport const BOOK_QUERY_REQUESTED = 'BOOK_QUERY_REQUESTED'\nexport const BOOK_QUERY_SUCCEED = 'BOOK_QUERY_SUCCEED'\nexport const BOOK_QUERY_FAILED = 'BOOK_QUERY_FAILED'\nexport const EDIT_BOOK_REQUESTED = 'EDIT_BOOK_REQUESTED'\nexport const EDIT_BOOK_SUCCEED = 'EDIT_BOOK_SUCCEED'\nexport const EDIT_BOOK_FAILED = 'EDIT_BOOK_FAILED'\nexport const CREATE_BOOK_SUCCEED = 'CREATE_BOOK_SUCCEED'\nexport const CREATE_BOOK_FAILED = 'CREATE_BOOK_FAILED'\nexport const DELETE_BOOK_REQUESTED = 'DELETE_BOOK_REQUESTED'\nexport const DELETE_BOOK_SUCCEED = 'DELETE_BOOK_SUCCEED'\nexport const DELETE_BOOK_FAILED = 'DELETE_BOOK_FAILED'\nexport const BORROW_BOOK_REQUESTED = 'BORROW_BOOK_REQUESTED'\nexport const BORROW_BOOK_SUCCEED = 'BORROW_BOOK_SUCCEED'\nexport const BORROW_BOOK_FAILED = 'BORROW_BOOK_FAILED'\nexport const RETURN_BOOK_REQUESTED = 'RETURN_BOOK_REQUESTED'\nexport const RETURN_BOOK_SUCCEED = 'RETURN_BOOK_SUCCEED'\nexport const RETURN_BOOK_FAILED = 'RETURN_BOOK_FAILED'\n\nexport const LOGIN_USER_REQUESTED = 'LOGIN_USER_REQUESTED'\nexport const LOGIN_USER_SUCCEED = 'LOGIN_USER_SUCCEED'\nexport const LOGIN_USER_FAILED = 'LOGIN_USER_FAILED'\nexport const LOGOUT_USER_REQUESTED = 'LOGOUT_USER_REQUESTED'\nexport const LOGOUT_USER_SUCCEED = 'LOGOUT_USER_SUCCEED'\nexport const LOGOUT_USER_FAILED = 'LOGOUT_USER_FAILED'\nexport const REGISTER_USER_SUCCEED = 'REGISTER_USER_SUCCEED'\nexport const UPDATE_USER_REQUESTED = 'UPDATE_USER_REQUESTED'\nexport const UPDATE_USER_SUCCEED = 'UPDATE_USER_SUCCEED'\nexport const UPDATE_USER_FAILED = 'UPDATE_USER_FAILED'\nexport const EDIT_USER_REQUESTED = 'EDIT_USER_REQUESTED'\nexport const EDIT_USER_SUCCEED = 'EDIT_USER_SUCCEED'\nexport const EDIT_USER_FAILED = 'EDIT_USER_FAILED'\nexport const VERIFY_USER_REQUESTED = 'VERIFY_USER_REQUESTED'\nexport const VERIFY_USER_SUCCEED = 'VERIFY_USER_SUCCEED'\nexport const VERIFY_USER_FAILED = 'VERIFY_USER_FAILED'\nexport const HIDE_MESSAGE = 'HIDE_MESSAGE'\n\nexport type FetchBookActions =\n  | FetchBookRequested\n  | FetchBookSucceed\n  | FetchBookFailed\n  | FetchIndividualBookRequested\n  | FetchIndividualBookSucceed\n  | FetchIndividualBookFailed\n  | FetchBookQueryRequested\n  | FetchBookQuerySucceed\n  | FetchBookQueryFailed\n  | EditBookRequested\n  | EditBookSucceed\n  | EditBookFailed\n  | CreateBookSucceed\n  | CreateBookFailed\n  | DeleteBookRequested\n  | DeleteBookSucceed\n  | DeleteBookFailed\n  | BorrowBookRequested\n  | BorrowBookSucceed\n  | BorrowBookFailed\n  | ReturnBookRequested\n  | ReturnBookSucceed\n  | ReturnBookFailed\n  | HideBookMessage\n\nexport type FetchBookRequested = {\n  type: typeof BOOK_LIST_REQUESTED\n  payload: {\n    loading: boolean\n  }\n}\n\nexport type FetchIndividualBookRequested = {\n  type: typeof BOOK_INDIVIDUAL_REQUESTED\n  payload: {\n    loading: boolean\n  }\n}\n\nexport type FetchBookQueryRequested = {\n  type: typeof BOOK_QUERY_REQUESTED\n  payload: {\n    loading: boolean\n  }\n}\n\nexport type EditBookRequested = {\n  type: typeof EDIT_BOOK_REQUESTED\n  payload: {\n    loading: boolean\n  }\n}\n\nexport type DeleteBookRequested = {\n  type: typeof DELETE_BOOK_REQUESTED\n  payload: {\n    loading: boolean\n  }\n}\n\nexport type BorrowBookRequested = {\n  type: typeof BORROW_BOOK_REQUESTED\n  payload: {\n    loading: boolean\n  }\n}\n\nexport type ReturnBookRequested = {\n  type: typeof RETURN_BOOK_REQUESTED\n  payload: {\n    loading: boolean\n  }\n}\n\nexport type FetchBookSucceed = {\n  type: typeof BOOK_LIST_SUCCEED\n  payload: {\n    books: any\n  }\n}\n\nexport type FetchIndividualBookSucceed = {\n  type: typeof BOOK_INDIVIDUAL_SUCCEED\n  payload: {\n    singleBook: any\n  }\n}\n\nexport type FetchBookQuerySucceed = {\n  type: typeof BOOK_QUERY_SUCCEED\n  payload: {\n    loading: boolean\n    books: any\n  }\n}\n\nexport type EditBookSucceed = {\n  type: typeof EDIT_BOOK_SUCCEED\n  payload: {\n    status: 'success',\n    message: string\n  }\n}\n\nexport type CreateBookSucceed = {\n  type: typeof CREATE_BOOK_SUCCEED\n  payload: {\n    status: 'success',\n    message: string\n  }\n}\n\nexport type DeleteBookSucceed = {\n  type: typeof DELETE_BOOK_SUCCEED\n  payload: {\n    data: {\n      status: 'success',\n      message: string\n    }\n    bookId: string\n  }\n}\n\nexport type BorrowBookSucceed = {\n  type: typeof BORROW_BOOK_SUCCEED\n  payload: {\n    status: 'success'\n    message: string\n    book: BookResponse\n    user: any\n  }\n}\n\nexport type ReturnBookSucceed = {\n  type: typeof RETURN_BOOK_SUCCEED\n  payload: {\n    status: 'success'\n    message: string\n    book: BookResponse\n    user: any\n  }\n}\n\nexport type FetchIndividualBookFailed = {\n  type: typeof BOOK_INDIVIDUAL_FAILED\n  payload: {\n    message: string\n  }\n}\n\nexport type FetchBookQueryFailed = {\n  type: typeof BOOK_QUERY_FAILED\n  payload: {\n    loading: boolean\n    error: []\n  }\n}\n\nexport type FetchBookFailed = {\n  type: typeof BOOK_LIST_FAILED\n  payload: {\n    loading: boolean\n    error: []\n  }\n}\n\nexport type EditBookFailed = {\n  type: typeof EDIT_BOOK_FAILED\n  payload: {\n    status: 'error',\n    message: string\n  }\n}\n\nexport type CreateBookFailed = {\n  type: typeof CREATE_BOOK_FAILED\n  payload: {\n    status: 'error',\n    message: string\n  }\n}\n\nexport type DeleteBookFailed = {\n  type: typeof DELETE_BOOK_FAILED\n  payload: {\n    status: 'error',\n    message: string\n  }\n}\n\nexport type BorrowBookFailed = {\n  type: typeof BORROW_BOOK_FAILED\n  payload: {\n    status: 'error'\n    message: string\n  }\n}\n\nexport type ReturnBookFailed = {\n  type: typeof RETURN_BOOK_FAILED\n  payload: {\n    status: 'error'\n    message: string\n  }\n}\n\nexport type HideBookMessage = {\n  type: typeof HIDE_MESSAGE\n}\n\nexport type FetchUserActions = \n| LoginUserActions\n| LogoutUserActions\n| UpdateUserActions\n| EditUserActions\n| RegisterUser\n| HideMessage\n\nexport type LoginUserActions =\n  | LoginUserRequested\n  | LoginUserSucceed\n  | LoginUserFailed\n\nexport type LoginUserRequested = {\n  type: typeof LOGIN_USER_REQUESTED\n  payload: {\n    loading: boolean\n  }\n}\n\nexport type LoginUserSucceed = {\n  type: typeof LOGIN_USER_SUCCEED\n  payload: {\n    data: Partial<User>\n    message: string\n    status: 'success' | 'error'\n  }\n}\n\nexport type LoginUserFailed = {\n  type: typeof LOGIN_USER_FAILED\n  payload: {\n    status: 'success' | 'error'\n    message: string\n  }\n}\n\nexport type LogoutUserActions =\n  | LogoutUserRequested\n  | LogoutUserSucceed\n  | LogoutUserFailed\n\nexport type LogoutUserRequested = {\n  type: typeof LOGOUT_USER_REQUESTED\n  payload: {\n    loading: boolean\n  }\n}\n\nexport type LogoutUserSucceed = {\n  type: typeof LOGOUT_USER_SUCCEED\n  payload: {\n    user: '',\n    status: 'success',\n    message: string\n  }\n}\n\nexport type LogoutUserFailed = {\n  type: typeof LOGOUT_USER_FAILED\n  payload: {\n    status: 'error',\n    message: ''\n  }\n}\n\nexport type HideMessage = {\n  type: typeof HIDE_MESSAGE\n}\n\nexport type UpdateUserActions =\n  | UpdateUserRequested\n  | UpdateUserSucceed\n  | UpdateUserFailed\n\nexport type UpdateUserRequested = {\n  type: typeof UPDATE_USER_REQUESTED\n  payload: {\n    loading: boolean\n  }\n}\n\nexport type UpdateUserSucceed = {\n  type: typeof UPDATE_USER_SUCCEED\n  payload: {\n    user: Partial<User>,\n    status: 'success' | 'error',\n    message: string\n  }\n}\n\nexport type UpdateUserFailed = {\n  type: typeof UPDATE_USER_FAILED\n  payload: {\n    status: 'error',\n    message: string\n  }\n}\n\nexport type EditUserActions =\n  | EditUserRequested\n  | EditUserSucceed\n  | EditUserFailed\n\nexport type EditUserRequested = {\n  type: typeof EDIT_USER_REQUESTED\n  payload: {\n    loading: boolean\n  }\n}\n\nexport type EditUserSucceed = {\n  type: typeof EDIT_USER_SUCCEED\n  payload: {\n    status: 'success'\n    message: string\n    user: Partial<User>\n  }\n}\n\nexport type EditUserFailed = {\n  type: typeof EDIT_USER_FAILED\n  payload: {\n    status: 'error',\n    message: string\n  }\n}\n\nexport type RegisterUser = \n| RegisterUserSucceed\n\nexport type RegisterUserSucceed = {\n    type: typeof REGISTER_USER_SUCCEED\n    payload: {\n        status: 'success' | 'error'\n        message: string\n    }\n}\n\nexport type APIFeedback = {\n    message: string,\n    status: 'success' | 'error'\n}\n\n// ======== //\n//  STATES  //\n// ======== //\n\nexport type BookState = {\n  loading: boolean\n  allBooks: any\n  filteredBooks: any\n  singleBook: any\n  errors: any[]\n  response: any\n  status: 'success' | 'error' | ''\n  message: string\n}\n\nexport type UserState = {\n  loading: boolean\n  user: any\n  status: 'success' | 'error' | ''\n  message: string\n}\n\nexport type AppState = {\n  book: BookState\n  user: UserState\n}\n\n// ======== //\n//  MODELS  //\n// ======== //\n\nexport type Book = {\n  isbn: number\n  title: string\n  authors: string[]\n  description: string\n  publisher: string\n  publishYear?: number\n  categories: string[]\n  quantity: number\n  status: string\n  borrowers: any[]\n  imageUrl: string\n}\n\nexport type User = {\n  firstName: string\n  lastName: string\n  username: string\n  email: string\n  password: string\n  isAdmin: boolean\n  fullName: string\n  borrows: any[]\n  returns: any[]\n  imageUrl: string\n  _id: string\n}\n\n// ============ //\n//  COMPONENTS  //\n// ============ //\nexport type FormStatus = {\n  type: string\n  message: string\n}\n\nexport type FormProps = {\n  [key: string]: FormStatus\n}\n\nexport type ActionFeedback = {\n  message: string\n}\n\nexport type RegisterForm = {\n  fullName: string\n  username: string\n  email: string\n  password: string\n  confirmPassword: string\n}\n\nexport type EditForm = {\n  fullName: string\n  username: string\n  email: string\n  imageUrl: string\n}\n\nexport type BookInfo = {\n  bookInfo: Partial<BookResponse>\n}\n\nexport type BookResponse = {\n  isbn: number\n  title: string\n  authors: string[]\n  description: string\n  publisher: string\n  publishYear?: number\n  categories: string[]\n  quantity: number\n  status: string\n  borrowers: any[]\n  imageUrl: string\n  _id: string\n}\n\nexport type CategoryQuery = {\n  categories: string[]\n}\n\nexport type Authors = {\n  authors: string[]\n}\n\nexport type CreateBookFeedback = {\n  type: 'success' | 'error'\n  message: string\n}\n\nexport type EditRouteInfo = {\n  bookId: string\n}\n\nexport type ProfileRouteInfo = {\n  userId: string\n}\n\nexport type BookAccordionProps = {\n  isbn: string\n  publisher: string\n  publishYear: string\n  description: string\n  quantity: number\n  categories: string[]\n}\n\nexport type AuthorProps = {\n  authorsState: string[]\n}\n\nexport type BorrowProps = {\n  bookUrl: string,\n  quantity: number\n}\n\nexport type UserProps = {\n  userInfo: Partial<User>\n}\n\nexport type ReturnProps = {\n  bookUrl: string\n}\n\nexport type UserBorrowBook = {\n  book: Partial<BookResponse>\n}\n\nexport type BookActionResponse = {\n  message: string\n  user: Partial<User>\n  book: Book\n}\n\nexport type SuccessResponse = {\n  data: Partial<User>\n  message: string\n  status: string\n}\n\nexport type ErrorResponse = {\n  status: string\n  message: string\n}","import {\n  LOGIN_USER_REQUESTED,\n  LOGIN_USER_SUCCEED,\n  LOGIN_USER_FAILED,\n  LOGOUT_USER_REQUESTED,\n  LOGOUT_USER_SUCCEED,\n  LOGOUT_USER_FAILED,\n  REGISTER_USER_SUCCEED,\n  HIDE_MESSAGE,\n  UPDATE_USER_REQUESTED,\n  UPDATE_USER_SUCCEED,\n  UPDATE_USER_FAILED,\n  EDIT_USER_REQUESTED,\n  EDIT_USER_SUCCEED,\n  EDIT_USER_FAILED,\n  UserState,\n  FetchUserActions,\n} from \"../../types\";\n\nexport default function user(\n  state: UserState = {\n    loading: false,\n    user: \"\",\n    status: \"\",\n    message: \"\",\n  },\n  action: FetchUserActions\n): UserState {\n  switch (action.type) {\n    case LOGIN_USER_REQUESTED:\n      return {\n        ...state,\n        loading: true,\n      };\n    case LOGIN_USER_SUCCEED:\n      const user = action.payload;\n      return {\n        loading: false,\n        user: user.data,\n        message: user.message,\n        status: user.status,\n      };\n    case LOGIN_USER_FAILED:\n      const loginError = action.payload;\n      return {\n        loading: false,\n        user: \"\",\n        message: loginError.message,\n        status: loginError.status,\n      };\n    case LOGOUT_USER_REQUESTED:\n      return {\n        ...state,\n        loading: true,\n      };\n    case LOGOUT_USER_SUCCEED:\n      const logoutResponse = action.payload;\n      return {\n        loading: false,\n        status: logoutResponse.status,\n        message: logoutResponse.message,\n        user: logoutResponse.user,\n      };\n    case LOGOUT_USER_FAILED:\n      const logoutError = action.payload;\n      return {\n        ...state,\n        loading: false,\n        status: logoutError.status,\n        message: logoutError.message,\n      };\n    case REGISTER_USER_SUCCEED:\n      const feedback = action.payload;\n      return {\n        ...state,\n        loading: false,\n        message: feedback.message,\n        status: feedback.status,\n      };\n    case UPDATE_USER_REQUESTED:\n      return {\n        ...state,\n        loading: true,\n      };\n    case UPDATE_USER_SUCCEED:\n      const updateResponse = action.payload;\n      return {\n        ...state,\n        loading: false,\n        user: updateResponse.user,\n      };\n    case UPDATE_USER_FAILED:\n      const updateError = action.payload;\n      return {\n        ...state,\n        status: updateError.status,\n        message: updateError.message,\n      };\n    case EDIT_USER_REQUESTED:\n      return {\n        ...state,\n        loading: true,\n      };\n    case EDIT_USER_SUCCEED:\n      const editResponse = action.payload;\n      return {\n        ...state,\n        loading: false,\n        user: editResponse.user,\n        status: editResponse.status,\n        message: editResponse.message\n      };\n    case EDIT_USER_FAILED:\n      const editError = action.payload;\n      return {\n        ...state,\n        status: editError.status,\n        message: editError.message,\n      };\n    case HIDE_MESSAGE:\n      return {\n        ...state,\n        loading: false,\n        message: \"\",\n        status: \"\",\n      };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux'\n\nimport book from './book'\nimport user from './user'\n\nconst createRootReducer = () =>\n  combineReducers({\n    book,\n    user\n  })\n\nexport default createRootReducer","import { select, takeLatest } from 'redux-saga/effects'\n\nfunction* saveBookState() {\n  /* const state = yield select() */\n  const book = yield select();\n  yield localStorage.setItem('book', JSON.stringify(book))\n}\n\nexport default [takeLatest('*', saveBookState)]\n","import { all } from 'redux-saga/effects'\n\nimport bookSagas from './book'\n/* import userSagas from './user' */\n\nexport default function* rootSaga() {\n  yield all([...bookSagas])\n}\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport createSagaMiddleware from 'redux-saga'\n\nimport { AppState } from '../types'\nimport createRootReducer from './reducers'\nimport rootSaga from './sagas'\n\nconst initial: AppState = {\n    book: {\n        loading: false,\n        allBooks: [],\n        singleBook: '',\n        filteredBooks: [],\n        errors: [],\n        response: [],\n        message: '',\n        status: ''\n    },\n    user: {\n        loading: false,\n        user: '',\n        status: '',\n        message: ''\n    }\n}\n\nexport default function makeStore(initialState = initial) {\n    const sagaMiddleware = createSagaMiddleware()\n    const middlewares = [sagaMiddleware, thunk]\n    let composeEnhancers = compose\n\n    if (process.env.NODE_ENV === 'development') {\n        if ((window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) {\n          composeEnhancers = (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n        }\n    }\n\n    const savedStore = localStorage.getItem('book')\n    if (savedStore) initialState = JSON.parse(savedStore)\n\n    const store = createStore(\n        createRootReducer(),\n        initialState,\n        composeEnhancers(applyMiddleware(...middlewares))\n    )\n\n    sagaMiddleware.run(rootSaga)\n\n    if ((module as any).hot) {\n        ;(module as any).hot.accept('./reducers', () => {\n          const nextReducer = require('./reducers').default\n          store.replaceReducer(nextReducer)\n        })\n    }\n    \n    return store\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Route, Redirect } from 'react-router-dom'\n\nimport { AppState } from '../types'\n\ntype AdminRoute = {\n  exact: boolean,\n  path: string,\n  component: React.ComponentType<any>\n  isAuthenticated: boolean\n  isAdmin: boolean\n}\n\nexport const AdminRoute: React.FC<AdminRoute> = ({component: Component, isAuthenticated, isAdmin, ...rest}) => {\n  return (\n    <Route \n      {...rest} \n      component={(props: any) => (\n        isAuthenticated ? (\n          isAdmin \n            ? <Component {...props} />\n            : <Redirect to=\"/forbidden\" />\n        ) : (\n          <Redirect to=\"/login\" />\n        )\n      )}\n    />\n  )\n}\n\nconst mapStateToProps = (state: AppState) => ({\n  isAuthenticated: !!state.user.user,\n  isAdmin: state.user.user.isAdmin\n})\n\nexport default connect(mapStateToProps)(AdminRoute)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Route, Redirect } from 'react-router-dom'\n\nimport { AppState } from '../types'\n\ntype PrivateRoute = {\n  exact: boolean,\n  path: any,\n  component: React.ComponentType<any>\n  isAuthenticated: boolean\n  user: string\n}\n\nexport const PrivateRoute: React.FC<PrivateRoute> = ({component: Component, isAuthenticated, user, path, ...rest}) => {\n  return (\n    <Route \n      {...rest}\n      render={props => {\n        const userId = props.match.params.userId;\n        return isAuthenticated ? (\n          userId === user \n            ? <Component {...props} />\n            : <Redirect to=\"/forbidden\" />\n        ) : (\n          <Redirect to=\"/login\" />\n        )\n      }} \n    />\n  )\n}\n\nconst mapStateToProps = (state: AppState) => ({\n  isAuthenticated: !!state.user.user,\n  user: state.user.user._id\n})\n\nexport default connect(mapStateToProps)(PrivateRoute)","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { Button } from '@material-ui/core'\n\nconst LoginButton = () => {\n  const history = useHistory()\n\n  const handleLogin = () => {\n    history.push('/login')\n  }\n\n  return (\n    <>\n      <Button\n        variant=\"text\"\n        size=\"small\"\n        onClick={handleLogin}\n      > Login\n      </Button>\n    </>\n  )\n}\n\nexport default LoginButton","import { Dispatch } from 'redux'\nimport axios from 'axios'\n\nimport {\n  LOGIN_USER_REQUESTED,\n  LOGIN_USER_SUCCEED,\n  LOGIN_USER_FAILED,\n  LOGOUT_USER_REQUESTED,\n  LOGOUT_USER_SUCCEED,\n  LOGOUT_USER_FAILED,\n  HIDE_MESSAGE,\n  REGISTER_USER_SUCCEED,\n  UPDATE_USER_REQUESTED,\n  UPDATE_USER_SUCCEED,\n  UPDATE_USER_FAILED,\n  EDIT_USER_REQUESTED,\n  EDIT_USER_SUCCEED,\n  EDIT_USER_FAILED,\n  User,\n  SuccessResponse\n} from '../../types'\n\nexport const login = (username: string, password: string) => async (\n  dispatch: Dispatch\n) => {\n  try {\n    dispatch({ type: LOGIN_USER_REQUESTED })\n    const {\n      data,\n    } = await axios.post(\n      'https://infinite-bayou-72273.herokuapp.com/api/v1/users/login',\n        {\n          username,\n          password,\n        },\n        { withCredentials: true}\n      )\n    return dispatch(loginSucceed(data))\n  } catch (error) {\n    return dispatch(loginFailed(error.response.data))\n  }\n}\n\nexport const loginSucceed = (data: SuccessResponse) => {\n  return {\n    type: LOGIN_USER_SUCCEED,\n    payload: data,\n  }\n}\n\nexport const loginFailed = (error: any) => {\n  return {\n    type: LOGIN_USER_FAILED,\n    payload: error,\n  }\n}\n\nexport const logout = () => async (dispatch: Dispatch) => {\n  try {\n    dispatch({ type: LOGOUT_USER_REQUESTED })\n    const { data } = await axios.get(\n      'https://infinite-bayou-72273.herokuapp.com/api/v1/users/logout',\n      { withCredentials: true}\n    )\n    return dispatch(logoutSucceed(data))\n  } catch (error) {\n    return dispatch(logoutFailed(error.response.data))\n  }\n}\n\nconst logoutSucceed = (data: User) => {\n  return {\n    type: LOGOUT_USER_SUCCEED,\n    payload: data\n  }\n}\n\nconst logoutFailed = (error: any) => {\n  return {\n    type: LOGOUT_USER_FAILED,\n    payload: error\n  }\n}\n\nexport const updateUser = (userId: string) => async (dispatch: Dispatch) => {\n  try {\n    dispatch({ type: UPDATE_USER_REQUESTED })\n    const res = await axios.get(\n      `https://infinite-bayou-72273.herokuapp.com/api/v1/users/${userId}`,\n      { withCredentials: true }\n    )\n    if (res.status === 200 && res.data.status === \"success\") {\n      return dispatch(updateUserSucceed(res.data));\n    } else if (res.status === 200 && res.data.message === 'TokenExpiredError') {\n      return dispatch(updateUserFailed(res.data))\n    }\n  } catch (error) {\n    return dispatch(updateUserFailed(error.response.data))\n  }\n}\n\nconst updateUserSucceed = (data: any) => {\n  return {\n    type: UPDATE_USER_SUCCEED,\n    payload: data\n  }\n}\n\nconst updateUserFailed = (error: any) => {\n  return {\n    type: UPDATE_USER_FAILED,\n    payload: error\n  }\n}\n\nexport const editUser = (userId: string, changes: any) => async (dispatch: Dispatch) => {\n  try {\n    dispatch({ type: EDIT_USER_REQUESTED })\n    const res = await axios.put(\n      `https://infinite-bayou-72273.herokuapp.com/api/v1/users/${userId}/edit`, \n        changes,\n        { withCredentials: true }\n      )\n    if (res.status === 200 && res.data.status === \"success\") {\n      await dispatch(editUserSucceed(res.data));\n    } else if (res.status === 200 && res.data.message === 'TokenExpiredError') {\n      await dispatch(editUserFailed(res.data))\n    }\n  } catch (error) {\n    return dispatch(editUserFailed(error.response.data))\n  }\n}\n\nconst editUserSucceed = (data: any) => {\n  return {\n    type: EDIT_USER_SUCCEED,\n    payload: data\n  }\n}\n\nconst editUserFailed = (error: any) => {\n  return {\n    type: EDIT_USER_FAILED,\n    payload: error\n  }\n}\n\n\nexport const hideMessage = () => {\n  return {\n    type: HIDE_MESSAGE,\n  }\n}\n\nexport const registerSucceed = (data: any) => {\n  return {\n    type: REGISTER_USER_SUCCEED,\n    payload: data\n  }\n}","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { Button } from '@material-ui/core'\nimport { logout } from '../../redux/actions/userActions'\n\nconst LogoutButton = () => {\n  const dispatch = useDispatch()\n\n  const handleLogout = async () => {\n    dispatch(logout())\n  }\n\n  return (\n    <>\n      <Button\n        variant=\"text\"\n        size=\"small\"\n        onClick={handleLogout}\n      >  Logout\n      </Button>\n    </>\n  )\n}\n\nexport default LogoutButton","import React from 'react';\nimport { useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { Button } from '@material-ui/core'\nimport ScatterPlotIcon from '@material-ui/icons/ScatterPlot'\nimport { AppState } from '../../types'\n\nconst AdminButton = () => {\n  const history = useHistory()\n  const data = useSelector((state: AppState) => state.user)\n  const { user } = data\n\n  const handleAdmin = () => {\n    history.push('/admin')\n  }\n\n  return (\n    <>\n    {user.isAdmin \n      ?\n        <Button\n          variant=\"text\"\n          size=\"small\"\n          startIcon={<ScatterPlotIcon />}\n          onClick={handleAdmin}\n        >\n        Admin\n        </Button>\n      :\n        null\n    }\n    </>\n  )\n}\n\nexport default AdminButton","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { Button } from '@material-ui/core'\n\nconst RegisterButton = () => {\n  const history = useHistory()\n\n  const handleRegister = () => {\n    history.push('/register')\n  }\n\n  return (\n    <>\n      <Button\n        variant=\"outlined\"\n        size=\"small\"\n        onClick={handleRegister}\n      > Register\n      </Button>\n    </>\n  )\n}\n\nexport default RegisterButton","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Avatar } from '@material-ui/core'\n\nimport { AppState } from '../../types'\n\nconst useStyles = makeStyles({\n  avatar: {\n    backgroundColor: '#2975D9',\n    '&:hover': {\n      cursor: 'pointer'\n    }\n  }\n})\n\nconst UserAvatar = () => {\n  const style = useStyles()\n  const { user } = useSelector((state: AppState) => state.user)\n  const history = useHistory()\n\n  const handleViewProfile = () => {\n    history.push(`/${user._id}`)\n  }\n\n  return (\n    <>\n      <Avatar\n        src={user.imageUrl}\n        classes={{root: style.avatar}}\n        onClick={handleViewProfile}\n      />\n    </>\n  )\n}\n\nexport default UserAvatar","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { useHistory } from 'react-router-dom'\nimport { AppBar, Toolbar, Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport { AppState } from '../../types'\nimport LoginButton from './login'\nimport LogoutButton from './logout'\nimport AdminButton from './admin'\nimport RegisterButton from './register'\nimport UserAvatar from './userAvatar'\n\nconst useStyle = makeStyles({\n  title: {\n    fontFamily: 'Lato, sans-serif',\n    fontSize: '28px',\n    color: '#044BD9',\n    textDecoration: 'none',\n    '&:hover': {\n      cursor: 'pointer',\n    },\n  }\n})\n\nconst Navbar = () => {\n  const style = useStyle()\n  const history = useHistory()\n  const data = useSelector((state: AppState) => state.user)\n  const { user } = data\n\n  const handleHome = () => {\n    history.push('/')\n  }\n\n  return (\n    <AppBar elevation={0} position=\"fixed\">\n      <Toolbar>\n        <Typography classes={{ root: style.title }} onClick={handleHome}>\n          {' '}\n          LibMan{' '}\n        </Typography>\n        \n      </Toolbar>\n      {user ? (\n        <Toolbar>\n          <AdminButton />\n          <UserAvatar />\n          <LogoutButton />\n        </Toolbar>\n      ) : (\n        <Toolbar>\n          <LoginButton />\n          <RegisterButton />\n        </Toolbar>\n      )}\n    </AppBar>\n  )\n}\n\nexport default Navbar","import { Dispatch } from 'redux'\nimport axios, { AxiosResponse } from 'axios'\n\nimport {\n  BOOK_LIST_REQUESTED,\n  BOOK_LIST_SUCCEED,\n  BOOK_LIST_FAILED,\n  BOOK_INDIVIDUAL_REQUESTED,\n  BOOK_INDIVIDUAL_SUCCEED,\n  BOOK_INDIVIDUAL_FAILED,\n  BOOK_QUERY_REQUESTED,\n  BOOK_QUERY_SUCCEED,\n  BOOK_QUERY_FAILED,\n  EDIT_BOOK_SUCCEED,\n  EDIT_BOOK_FAILED,\n  CREATE_BOOK_SUCCEED,\n  CREATE_BOOK_FAILED,\n  DELETE_BOOK_REQUESTED,\n  DELETE_BOOK_SUCCEED,\n  DELETE_BOOK_FAILED,\n  BORROW_BOOK_REQUESTED,\n  BORROW_BOOK_SUCCEED,\n  BORROW_BOOK_FAILED,\n  RETURN_BOOK_REQUESTED,\n  RETURN_BOOK_SUCCEED,\n  RETURN_BOOK_FAILED,\n  HIDE_MESSAGE,\n  CategoryQuery,\n  ErrorResponse,\n} from '../../types'\n\nexport const fetchBookList = () => async (dispatch: Dispatch) => {\n  try {\n    dispatch({ type: BOOK_LIST_REQUESTED })\n    const { data } = await axios.get(\n      'https://infinite-bayou-72273.herokuapp.com/api/v1/books/all',\n      { withCredentials: true }\n    )\n    return dispatch(fetchBookSucceed(data))\n  } catch (error) {\n    return dispatch(fetchBookFailed(error))\n  }\n}\n\nexport const fetchIndividualBook = (bookId: string) => async (dispatch: Dispatch) => {\n  try {\n    dispatch({type: BOOK_INDIVIDUAL_REQUESTED})\n    const { data } = await axios.get(\n      `https://infinite-bayou-72273.herokuapp.com/api/v1/books/${bookId}`,\n      { withCredentials: true }\n    )\n    return dispatch(fetchBookIndividualSucceed(data))\n  } catch (error) {\n    return dispatch(fetchBookIndividualFailed(error.response.data))\n  }\n}\n\nexport const fetchBookQuery = (\n  titleQuery: string,\n  authorQuery: string,\n  categoryQuery: CategoryQuery\n) => async (dispatch: Dispatch) => {\n  try {\n    dispatch({ type: BOOK_QUERY_REQUESTED })\n    if (titleQuery || authorQuery || categoryQuery) {\n      const { data } = await axios.get(\n        'https://infinite-bayou-72273.herokuapp.com/api/v1/books', \n        {\n          params: {\n            title: titleQuery,\n            authors: authorQuery,\n            categories: categoryQuery.categories,\n          },\n          withCredentials: true\n        }\n      )\n      return dispatch(fetchBookQuerySucceed(data))\n    }\n  } catch (error) {\n    return dispatch(fetchBookQueryFailed(error))\n  }\n}\n\nexport const deleteBook = (bookId: string) => async (dispatch: Dispatch) => {\n  try {\n    dispatch({type: DELETE_BOOK_REQUESTED})\n    if(bookId) {\n      const res = await axios.delete(\n        `https://infinite-bayou-72273.herokuapp.com/api/v1/books/${bookId}`,\n        { withCredentials: true }\n      )\n      /* return dispatch(deleteBookSucceed(data, bookId)) */\n      if (res.status === 200 && res.data.status === \"success\") {\n        await dispatch(deleteBookSucceed(res.data, bookId));\n      } else if (res.status === 200 && res.data.message === 'TokenExpiredError') {\n        await dispatch(deleteBookFailed(res.data))\n      }\n    }\n  } catch (error) {\n    return dispatch(deleteBookFailed(error.response.data))\n  }\n}\n\nexport const borrowBook = (bookUrl: string) => async (dispatch: Dispatch) => {\n  try {\n    dispatch({type: BORROW_BOOK_REQUESTED})\n    const res = await axios.put(\n      `https://infinite-bayou-72273.herokuapp.com/api/v1/books/${bookUrl}/borrow`,\n      {},\n      { withCredentials: true }\n    )\n    if (res.status === 200 && res.data.status === \"success\") {\n      return dispatch(borrowBookSucceed(res.data));\n    } else if (res.status === 200 && res.data.message === 'TokenExpiredError') {\n      return dispatch(borrowBookFailed(res.data))\n    }\n  } catch (error) {\n    return dispatch(borrowBookFailed(error.response.data))\n  }\n}\n\nexport const returnBook = (bookUrl: string) => async (dispatch: Dispatch) => {\n  try {\n    dispatch({type: RETURN_BOOK_REQUESTED})\n    if (bookUrl) {\n      const res = await axios.put(\n        `https://infinite-bayou-72273.herokuapp.com/api/v1/books/${bookUrl}/return`,\n        {},\n        { withCredentials: true }\n      )\n      if (res.status === 200 && res.data.status === \"success\") {\n        return dispatch(returnBookSucceed(res.data));\n      } else if (res.status === 200 && res.data.message === 'TokenExpiredError') {\n        return dispatch(returnBookFailed(res.data))\n      }\n    }\n  } catch (error) {\n    return dispatch(returnBookFailed(error.response.data))\n  }\n}\n\nexport const editBookSucceed = (data: any) => {\n  return {\n    type: EDIT_BOOK_SUCCEED,\n    payload: data\n  }\n}\n\nconst fetchBookSucceed = (data: any) => {\n  return {\n    type: BOOK_LIST_SUCCEED,\n    payload: data,\n  }\n}\n\nconst fetchBookIndividualSucceed = (data: any) => {\n  return {\n    type: BOOK_INDIVIDUAL_SUCCEED,\n    payload: data\n  }\n}\n\nconst fetchBookQuerySucceed = (data: any) => {\n  return {\n    type: BOOK_QUERY_SUCCEED,\n    payload: data,\n  }\n}\n\nexport const createBookSucceed = (data: any) => {\n  return {\n    type: CREATE_BOOK_SUCCEED,\n    payload: data\n  }\n}\n\nconst deleteBookSucceed = (data: any, bookId: string) => {\n  return {\n    type: DELETE_BOOK_SUCCEED,\n    payload: {\n      data,\n      bookId\n    }\n  }\n}\n\nconst borrowBookSucceed = (borrowResponse: any) => {\n  return {\n    type: BORROW_BOOK_SUCCEED,\n    payload: borrowResponse\n  }\n}\n\nconst returnBookSucceed = (returnResponse: any) => {\n  return {\n    type: RETURN_BOOK_SUCCEED,\n    payload: returnResponse\n  }\n}\n\nconst fetchBookFailed = (error: AxiosResponse) => {\n  return {\n    type: BOOK_LIST_FAILED,\n    payload: error,\n  }\n}\n\nconst fetchBookIndividualFailed = (error: any) => {\n  return {\n    type: BOOK_INDIVIDUAL_FAILED,\n    payload: error\n  }\n}\n\nconst fetchBookQueryFailed = (error: AxiosResponse) => {\n  return {\n    type: BOOK_QUERY_FAILED,\n    payload: error,\n  }\n}\n\nexport const editBookFailed = (error: any) => {\n  return {\n    type: EDIT_BOOK_FAILED,\n    payload: error\n  }\n}\n\nexport const createBookFailed = (error: ErrorResponse) => {\n  return {\n    type: CREATE_BOOK_FAILED,\n    payload: error\n  }\n}\n\nconst deleteBookFailed = (error: AxiosResponse) => {\n  return {\n    type: DELETE_BOOK_FAILED,\n    payload: error\n  }\n}\n\nconst borrowBookFailed = (error: ErrorResponse) => {\n  return {\n    type: BORROW_BOOK_FAILED,\n    payload: error\n  }\n}\n\nconst returnBookFailed = (error: ErrorResponse) => {\n  return {\n    type: RETURN_BOOK_FAILED,\n    payload: error\n  }\n}\n\nexport const hideBookMessage = () => {\n  return {\n    type: HIDE_MESSAGE,\n  }\n}","import React, { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useSelector, useDispatch } from 'react-redux'\nimport {\n  Card,\n  CardMedia,\n  CardContent,\n  Button,\n  IconButton,\n  Typography,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  DialogActions,\n} from '@material-ui/core'\nimport CheckIcon from '@material-ui/icons/Check'\nimport CloseIcon from '@material-ui/icons/Close'\nimport VisibilityIcon from '@material-ui/icons/Visibility'\nimport EditIcon from '@material-ui/icons/Edit'\nimport DeleteIcon from '@material-ui/icons/Delete'\n\nimport { AppState, BookInfo } from '../../types'\nimport { deleteBook } from '../../redux/actions/bookActions'\n\nconst useStyles = makeStyles({\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'stretch',\n    justifyContent: 'flex-start',\n    maxHeight: '450px'\n  },\n  media: {\n    height: '300px',\n    width: '200px',\n    alignSelf: 'center',\n  },\n  text: {\n    fontSize: '18px',\n    fontWeight: 'bold',\n    fontFamily: 'Rubik, sans-serif',\n    marginBottom: '8px',\n  },\n  button: {\n    margin: '0.5rem 1rem 0 0',\n  },\n})\n\nconst IndividualBook: React.FC<BookInfo> = ({ bookInfo }) => {\n  const style = useStyles()\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const data = useSelector((state: AppState) => state.user)\n  const { user } = data\n\n  const [deleteDialog, setDeleteDialog] = useState(false)\n\n  const handleOpen = () => {\n    setDeleteDialog(true)\n  }\n  const handleClose = () => {\n    setDeleteDialog(false)\n  }\n  const handleDelete = () => {\n    if (bookInfo._id) {\n      dispatch(deleteBook(bookInfo._id))\n    }\n  }\n  const handleEdit = () => {\n    history.push(`/admin/book/${bookInfo._id}/edit`)\n  }\n\n  const handleView = () => {\n    history.push(`/book/${bookInfo._id}`)\n  }\n\n  return (\n    <>\n      <Dialog\n        open={deleteDialog}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{'Delete?'}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            Deleting book title: <strong> {bookInfo.title} </strong> <br></br>\n            Choose 'Delete' to confirm!\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button\n            onClick={handleDelete}\n            color=\"secondary\"\n            variant=\"contained\"\n            startIcon={<DeleteIcon />}\n          >\n            Delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <Card classes={{ root: style.container }} key={bookInfo.title}>\n        <CardMedia\n          classes={{ root: style.media }}\n          image={bookInfo.imageUrl}\n          title=\"book cover\"\n        />\n        <CardContent>\n          <Typography classes={{ root: style.text }}>\n            {bookInfo.title}\n          </Typography>\n\n          {bookInfo.authors?.map((author) => (\n            <span\n              key={author}\n              style={{ marginRight: '10px', fontStyle: 'italic' }}\n            >\n              {' '}\n              {author}{' '}\n            </span>\n          ))}\n\n          <div>\n            {bookInfo.quantity === 0 ? (\n              <Button\n                variant=\"text\"\n                color=\"secondary\"\n                startIcon={<CloseIcon />}\n              >\n                Not Available\n              </Button>\n            ) : (\n              <Button variant=\"text\" color=\"primary\" startIcon={<CheckIcon />}>\n                Available\n              </Button>\n            )}\n\n            <IconButton onClick={handleView}>\n              <VisibilityIcon />\n            </IconButton>\n          </div>\n\n          {user.isAdmin && (\n            <div>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                size=\"small\"\n                startIcon={<EditIcon />}\n                classes={{ root: style.button }}\n                onClick={handleEdit}\n              >\n                Edit\n              </Button>\n\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                size=\"small\"\n                startIcon={<DeleteIcon />}\n                classes={{ root: style.button }}\n                onClick={handleOpen}\n              >\n                Delete\n              </Button>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </>\n  )\n}\n\nexport default IndividualBook","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { AppState, BookResponse } from '../../types'\nimport IndividualBook from '../Books/book'\nimport '../../style/Home.css'\n\nconst Books = () => {\n  const books = useSelector((state: AppState) => state.book.filteredBooks)\n\n  return (\n    <div className=\"Home-BookContainer\" >\n      {books.map((book: BookResponse) => (\n        <div className=\"Home-IndividualBook\" key={book._id}> \n          <IndividualBook bookInfo={book} />\n        </div>\n      ))}\n    </div>\n  )\n}\n\nexport default Books","import { useState, useEffect } from 'react'\n\nimport { Book } from '../types'\n\nconst useCategories = (books: Book[]) => {\n  const [categories, setCategories] = useState<string[]>([])\n\n  useEffect(() => {\n    const fetchCategories = () => {\n      let stringArray: string[] = []\n      let uniqueArray: string[] = []\n      books.map((book) => {\n        return (stringArray = stringArray.concat(book.categories))\n      })\n      stringArray.map((value) => {\n        if (uniqueArray.indexOf(value) === -1) {\n          uniqueArray.push(value)\n        }\n        return uniqueArray\n      })\n      setCategories(uniqueArray)\n    }\n    fetchCategories()\n  }, [books])\n\n  return { categories }\n}\n\nexport default useCategories","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n  InputBase,\n  Button,\n  Checkbox,\n  InputLabel,\n  Select,\n  MenuItem,\n  ListItemText,\n  Chip,\n  Input,\n  Divider,\n  IconButton\n} from '@material-ui/core'\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport SearchIcon from '@material-ui/icons/Search'\n\nimport { AppState } from '../../types'\nimport useCategories from '../../hooks/useCategories'\nimport { fetchBookQuery } from '../../redux/actions/bookActions'\n\ntype Category = {\n  categories: string[]\n}\n\nconst useStyles = makeStyles({\n  formControl: {\n    minWidth: 120,\n  },\n  icon: {\n    margin: '0 1rem',\n  }\n})\n\nconst Sidebar = () => {\n  const style = useStyles()\n  const dispatch = useDispatch()\n  const books = useSelector((state: AppState) => state.book.allBooks)\n  const { categories } = useCategories(books)\n  const [titleQuery, setTitleQuery] = useState('')\n  const [authorQuery, setAuthorQuery] = useState('')\n  const [categoryQuery, setCategoryQuery] = useState<Category>({\n    categories: ['any'],\n  })\n  \n  const handleChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n    setCategoryQuery({ categories: event.target.value as string[] })\n  }\n\n  const handleTitleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setTitleQuery(event.target.value)\n  }\n\n  const handleAuthorChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setAuthorQuery(event.target.value)\n  }\n\n  const handleSubmit = (e: React.ChangeEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    dispatch(fetchBookQuery(titleQuery, authorQuery, categoryQuery))\n  }\n\n  const handleRefresh = async () => {\n    await setTitleQuery('')\n    await setAuthorQuery('')\n    await setCategoryQuery({categories: ['any']})\n  }\n\n  return (\n    <>\n      <form className=\"Home-Sidebar\" onSubmit={handleSubmit}>\n        <SearchIcon classes={{ root: style.icon }} />\n        <InputBase\n          placeholder=\"Search by title\"\n          inputProps={{ 'aria-label': 'search by title' }}\n          value={titleQuery}\n          onChange={handleTitleChange}\n        />\n        <Divider\n          orientation=\"vertical\"\n          flexItem\n          classes={{ root: style.icon }}\n        />\n\n        <div className=\"Sidebar-CategorySearch\">\n          <InputLabel> Search by category </InputLabel>\n          <Select\n            multiple\n            value={categoryQuery.categories}\n            onChange={handleChange}\n            input={<Input />}\n            renderValue={(selected) => (\n              <div className=\"Sidebar-Chips\">\n                {(selected as string[]).map((value) => (\n                  <Chip key={value} label={value} />\n                ))}\n              </div>\n            )}\n          >\n            {categories.map((category) => (\n              <MenuItem key={category} value={category}>\n                <Checkbox\n                  checked={ categoryQuery.categories.indexOf(category) > -1}\n                />\n                <ListItemText primary={category} />\n              </MenuItem>\n            ))}\n          </Select>\n        </div>\n        <Divider\n          orientation=\"vertical\"\n          flexItem\n          classes={{ root: style.icon }}\n        />\n        <SearchIcon classes={{ root: style.icon }} />\n        <InputBase\n          placeholder=\"Search by author\"\n          inputProps={{ 'aria-label': 'search by author' }}\n          value={authorQuery}\n          onChange={handleAuthorChange}\n        />\n\n        <Button\n          variant=\"contained\"\n          size=\"small\"\n          type=\"submit\"\n          disableElevation={true}\n          classes={{ root: style.icon }}\n        >\n          {' '}\n          Search\n        </Button>\n        \n        <IconButton type=\"submit\" onClick={handleRefresh}>\n         <RefreshIcon/>\n        </IconButton>\n\n      </form>\n    </>\n  )\n}\n\nexport default Sidebar","import React, { useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport Navbar from '../components/Navbar'\nimport Books from '../components/Books'\nimport Sidebar from '../components/Sidebar'\nimport { fetchBookList } from '../redux/actions/bookActions'\nimport '../style/Home.css'\n\nconst Home = () => {\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(fetchBookList())\n  }, [dispatch])\n\n  return (\n    <div className=\"Home-MainContainer\">\n      <Navbar />\n      <Sidebar />\n      <Books />\n    </div>\n  )\n}\n\nexport default Home","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Alert from '@material-ui/lab/Alert'\nimport AddCircleIcon from '@material-ui/icons/AddCircle'\nimport {\n  Button,\n  TextField,\n  Chip,\n  InputAdornment,\n  IconButton,\n} from '@material-ui/core'\n\nimport Navbar from '../components/Navbar'\nimport { AppState, Authors, CategoryQuery } from '../types'\nimport { hideBookMessage, createBookSucceed, createBookFailed } from '../redux/actions/bookActions'\nimport '../style/CreateBook.css'\n\nconst useStyle = makeStyles({\n  form: {\n    backgroundColor: '#E8E8E8',\n    margin: '1rem 0',\n  }\n})\n\nconst CreateBook = () => {\n  const style = useStyle()\n  const history = useHistory()\n  const dispatch = useDispatch()\n  const bookResponse = useSelector((state: AppState) => state.book)\n  const [uploadLoading, setUploadLoading] = useState(false)\n  const [title, setTitle] = useState('')\n  const [isbn, setIsbn] = useState('')\n  const [publisher, setPublisher] = useState('')\n  const [publishYear, setPublishYear] = useState('')\n  const [quantity, setQuantity] = useState('')\n  const [image, setImage] = useState('')\n  const [authorsState, setAuthors] = useState<Authors>({ authors: [] })\n  const [authorField, setAuthorField] = useState('')\n  const [categoriesState, setCategories] = useState<CategoryQuery>({\n    categories: ['any'],\n  })\n  const [categoryField, setCategoryField] = useState('')\n\n  useEffect(() => {\n    dispatch(hideBookMessage())\n  }, [dispatch])\n\n  const submitHandler = async (e: React.ChangeEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    try {\n      const res = await axios.post(\n        'https://infinite-bayou-72273.herokuapp.com/api/v1/books/create',\n        {\n          imageUrl: image,\n          title: title,\n          isbn: parseInt(isbn),\n          publisher: publisher,\n          publishYear: parseInt(publishYear),\n          quantity: parseInt(quantity),\n          authors: authorsState.authors,\n          categories: categoriesState.categories,\n        },\n        {withCredentials: true}\n      )\n      await dispatch(createBookSucceed(res.data))\n      if (res.data.status === 'success') {\n        setTimeout(() => history.push('/', 3000))\n      }\n    } catch (error) {\n      dispatch(createBookFailed(error.response.data))\n    }\n  }\n\n  const handleDelete = (event: any) => {\n    let newAuthorsState = authorsState.authors\n    let index = newAuthorsState.indexOf(event.target.label)\n    newAuthorsState.splice(index, 1)\n    setAuthors({ authors: newAuthorsState })\n  }\n\n  const handleDelete2 = (event: any) => {\n    let newCategoriesState = categoriesState.categories\n    let index = newCategoriesState.indexOf(event.target.label)\n    newCategoriesState.splice(index, 1)\n    setCategories({ categories: newCategoriesState })\n  }\n\n  const handleAddAuthor = (\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>\n  ) => {\n    e.preventDefault()\n    setAuthors({\n      authors: [...authorsState.authors, authorField],\n    })\n  }\n\n  const handleAddCategory = (\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>\n  ) => {\n    e.preventDefault()\n    setCategories({\n      categories: [...categoriesState.categories, categoryField],\n    })\n  }\n\n  const handleUpload = async (e: React.ChangeEvent<any>) => {\n    const files = e.target.files\n    const form = new FormData()\n    form.append('file', files[0])\n    form.append('upload_preset', 'libman')\n    form.append('cloud_name', 'dapyxdvj5')\n    setUploadLoading(true)\n    const { data } = await axios.post(\n      'https://api.cloudinary.com/v1_1/dapyxdvj5/image/upload',\n      form\n    )\n    setImage(data.secure_url)\n    setUploadLoading(false)\n  }\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"CreateBook-MainContainer\">\n        <h1> CREATE A BOOK </h1>\n        <div className=\"CreateBook-Alert\">\n          {bookResponse.status && bookResponse.message ? (\n            <Alert\n              variant=\"filled\"\n              severity={bookResponse.status}\n            >\n            {bookResponse.message}\n            </Alert>\n          ) : (\n            null\n          )}\n        </div>\n        <form onSubmit={submitHandler} className=\"CreateBook-Form\">\n          <TextField\n            classes={{ root: style.form }}\n            name=\"title\"\n            id=\"title\"\n            label=\"Title\"\n            value={title}\n            type=\"text\"\n            variant=\"outlined\"\n            required\n            onChange={(e) => setTitle(e.target.value)}\n          />\n\n          <TextField\n            classes={{ root: style.form }}\n            name=\"isbn\"\n            id=\"isbn\"\n            label=\"ISBN Number\"\n            value={isbn}\n            required\n            type=\"text\"\n            variant=\"outlined\"\n            onChange={(e) => setIsbn(e.target.value)}\n          />\n\n          <TextField\n            classes={{ root: style.form }}\n            name=\"authors\"\n            id=\"authors\"\n            label=\"Authors\"\n            value={authorField}\n            type=\"text\"\n            variant=\"outlined\"\n            required\n            onChange={(e) => setAuthorField(e.target.value)}\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton onClick={handleAddAuthor}>\n                    <AddCircleIcon />\n                  </IconButton>\n                </InputAdornment>\n              ),\n            }}\n          />\n          <div style={{ margin: '0' }}>\n            {' '}\n            authors:\n            {authorsState.authors.length >= 1 &&\n              authorsState.authors.map((item) => {\n                return (\n                  <Chip\n                    key={item}\n                    label={item}\n                    onDelete={item === 'any' ? undefined : handleDelete}\n                  />\n                )\n              })}\n          </div>\n\n          <TextField\n            classes={{ root: style.form }}\n            name=\"publisher\"\n            id=\"publisher\"\n            label=\"Publisher\"\n            value={publisher}\n            type=\"text\"\n            variant=\"outlined\"\n            required\n            onChange={(e) => setPublisher(e.target.value)}\n          />\n\n          <TextField\n            classes={{ root: style.form }}\n            name=\"publishYear\"\n            id=\"publishYear\"\n            label=\"Publish Year\"\n            value={publishYear}\n            type=\"text\"\n            variant=\"outlined\"\n            required\n            onChange={(e) => setPublishYear(e.target.value)}\n          />\n\n          <TextField\n            classes={{ root: style.form }}\n            name=\"categories\"\n            id=\"categories\"\n            label=\"Categories\"\n            value={categoryField}\n            type=\"text\"\n            variant=\"outlined\"\n            onChange={(e) => setCategoryField(e.target.value)}\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton onClick={handleAddCategory}>\n                    <AddCircleIcon />\n                  </IconButton>\n                </InputAdornment>\n              ),\n            }}\n          />\n          <div style={{ margin: '0' }}>\n            {' '}\n            categories:\n            {categoriesState.categories.length >= 1 &&\n              categoriesState.categories.map((item) => {\n                return (\n                  <Chip\n                    key={item}\n                    label={item}\n                    onDelete={item === 'any' ? undefined : handleDelete2}\n                  />\n                )\n              })}\n          </div>\n\n          <TextField\n            classes={{ root: style.form }}\n            name=\"quantity\"\n            id=\"quantity\"\n            label=\"Quantity\"\n            value={quantity}\n            type=\"text\"\n            variant=\"outlined\"\n            required\n            onChange={(e) => setQuantity(e.target.value)}\n          />\n\n          <div className=\"CreateBook-Upload\" >\n            <p> Upload image </p>\n            <input\n              type=\"file\"\n              name=\"file\"\n              placeholder=\"Upload an image\"\n              required\n              onChange={handleUpload}\n            />\n            {uploadLoading ? (\n              <p> Upoading... </p>\n            ) : (\n              image && (\n                <img\n                  alt=\"preview of uploaded book\"\n                  src={image}\n                  style={{ width: '200px', height: 'auto' }}\n                />\n              )\n            )}\n          </div>\n          <div className=\"CreateBook-Button\">\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"secondary\"\n              disableElevation\n            >\n              CREATE BOOK\n            </Button>\n          </div>\n        </form>\n      </div>\n    </>\n  )\n}\n\nexport default CreateBook","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { RouteComponentProps } from \"react-router\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\nimport {\n  Button,\n  TextField,\n  Chip,\n  InputAdornment,\n  IconButton,\n} from \"@material-ui/core\";\n\nimport Navbar from \"../components/Navbar\";\nimport { Authors, CategoryQuery, EditRouteInfo, AppState } from \"../types\";\nimport {\n  editBookSucceed,\n  editBookFailed,\n  hideBookMessage,\n} from \"../redux/actions/bookActions\";\nimport \"../style/EditBook.css\";\n\nconst useStyle = makeStyles({\n  form: {\n    backgroundColor: \"#E8E8E8\",\n    margin: \"1rem 0\",\n  },\n});\n\nconst EditBook = ({ match }: RouteComponentProps<EditRouteInfo>) => {\n  const style = useStyle();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const bookResponse = useSelector((state: AppState) => state.book);\n  const bookId = match.params.bookId;\n  const [title, setTitle] = useState(\"\");\n  const [isbn, setIsbn] = useState(\"\");\n  const [publisher, setPublisher] = useState(\"\");\n  const [publishYear, setPublishYear] = useState(\"\");\n  const [quantity, setQuantity] = useState(\"\");\n  const [authorsState, setAuthors] = useState<Authors>({ authors: [] });\n  const [authorField, setAuthorField] = useState(\"\");\n  const [categoriesState, setCategories] = useState<CategoryQuery>({\n    categories: [],\n  });\n  const [categoryField, setCategoryField] = useState(\"\");\n\n  useEffect(() => {\n    dispatch(hideBookMessage());\n  }, [dispatch]);\n\n  useEffect(() => {\n    const fetchBookInfo = async () => {\n      let { data } = await axios.get(`https://infinite-bayou-72273.herokuapp.com/api/v1/books/${bookId}`);\n      setTitle(data.title);\n      setIsbn(data.isbn);\n      setPublisher(data.publisher);\n      setPublishYear(data.publishYear);\n      setQuantity(data.quantity);\n      setAuthors({ authors: data.authors });\n      setCategories({ categories: data.categories });\n    };\n    fetchBookInfo();\n  }, [bookId]);\n\n  const handleAddAuthor = (\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>\n  ) => {\n    e.preventDefault();\n    setAuthors({\n      authors: [...authorsState.authors, authorField],\n    });\n  };\n\n  const handleDeleteAuthor = (item: string) => () => {\n    const newAuthors = authorsState.authors;\n    let removeItemIndex = newAuthors.indexOf(item);\n    newAuthors.splice(removeItemIndex, 1);\n    setAuthors({ authors: newAuthors });\n  };\n\n  const handleAddCategory = (\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>\n  ) => {\n    e.preventDefault();\n    setCategories({\n      categories: [...categoriesState.categories, categoryField],\n    });\n  };\n\n  const handleDeleteCategory = (item: string) => () => {\n    const newCategories = categoriesState.categories;\n    let removeItemIndex = newCategories.indexOf(item);\n    newCategories.splice(removeItemIndex, 1);\n    setCategories({ categories: newCategories });\n  };\n\n  const handleSubmit = async (e: React.ChangeEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    try {\n      const res = await axios.put(\n        `https://infinite-bayou-72273.herokuapp.com/api/v1/books/${bookId}`,\n        {\n          title: title,\n          isbn: parseInt(isbn),\n          publisher: publisher,\n          publishYear: parseInt(publishYear),\n          quantity: parseInt(quantity),\n          authors: authorsState.authors,\n          categories: categoriesState.categories,\n        }, \n      {withCredentials: true}\n      );\n      if (res.status === 200 && res.data.status === \"success\") {\n        await dispatch(editBookSucceed(res.data));\n        setTimeout(() => history.push(\"/\"), 2000);\n      } else if (res.status === 200 && res.data.message === 'TokenExpiredError') {\n        await dispatch(editBookFailed(res.data))\n        setTimeout(() => history.push(\"/login\"), 2000);\n      }\n    } catch (error) {\n      dispatch(editBookFailed(error.response.data))\n    }\n  };\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"EditBook-MainContainer\">\n        <h1> EDITING: {title} </h1>\n        {bookResponse.status && bookResponse.message ? (\n          <Alert variant=\"filled\" severity={bookResponse.status}>\n            {bookResponse.message}\n          </Alert>\n        ) : null}\n        <form onSubmit={handleSubmit} className=\"EditBook-Form\">\n          <TextField\n            classes={{ root: style.form }}\n            name=\"title\"\n            id=\"title\"\n            label=\"Title\"\n            value={title}\n            type=\"text\"\n            variant=\"outlined\"\n            required\n            onChange={(e) => setTitle(e.target.value)}\n          />\n\n          <TextField\n            classes={{ root: style.form }}\n            name=\"isbn\"\n            id=\"isbn\"\n            label=\"ISBN Number\"\n            variant=\"outlined\"\n            value={isbn}\n            required\n            type=\"text\"\n            onChange={(e) => setIsbn(e.target.value)}\n          />\n\n          <TextField\n            classes={{ root: style.form }}\n            name=\"authors\"\n            id=\"authors\"\n            label=\"Authors\"\n            variant=\"outlined\"\n            value={authorField}\n            type=\"text\"\n            onChange={(e) => setAuthorField(e.target.value)}\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton onClick={handleAddAuthor}>\n                    <AddCircleIcon />\n                  </IconButton>\n                </InputAdornment>\n              ),\n            }}\n          />\n          <div style={{ margin: \"0\" }}>\n            authors:\n            {authorsState.authors.length >= 1 &&\n              authorsState.authors.map((item) => {\n                return (\n                  <Chip\n                    key={item}\n                    label={item}\n                    onDelete={handleDeleteAuthor(item)}\n                  />\n                );\n              })}\n          </div>\n\n          <TextField\n            classes={{ root: style.form }}\n            name=\"publisher\"\n            id=\"publisher\"\n            label=\"Publisher\"\n            variant=\"outlined\"\n            value={publisher}\n            type=\"text\"\n            required\n            onChange={(e) => setPublisher(e.target.value)}\n          />\n\n          <TextField\n            classes={{ root: style.form }}\n            name=\"publishYear\"\n            id=\"publishYear\"\n            label=\"Publish Year\"\n            variant=\"outlined\"\n            value={publishYear}\n            type=\"text\"\n            required\n            onChange={(e) => setPublishYear(e.target.value)}\n          />\n\n          <TextField\n            classes={{ root: style.form }}\n            name=\"categories\"\n            id=\"categories\"\n            label=\"Categories\"\n            variant=\"outlined\"\n            value={categoryField}\n            type=\"text\"\n            onChange={(e) => setCategoryField(e.target.value)}\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton onClick={handleAddCategory}>\n                    <AddCircleIcon />\n                  </IconButton>\n                </InputAdornment>\n              ),\n            }}\n          />\n          <div style={{ margin: \"0\" }}>\n            {\" \"}\n            categories:\n            {categoriesState.categories.length >= 1 &&\n              categoriesState.categories.map((item) => {\n                return (\n                  <Chip\n                    key={item}\n                    label={item}\n                    onDelete={\n                      item === \"any\" ? undefined : handleDeleteCategory(item)\n                    }\n                  />\n                );\n              })}\n          </div>\n\n          <TextField\n            classes={{ root: style.form }}\n            name=\"quantity\"\n            id=\"quantity\"\n            label=\"Quantity\"\n            variant=\"outlined\"\n            value={quantity}\n            type=\"text\"\n            required\n            onChange={(e) => setQuantity(e.target.value)}\n          />\n\n          <Button\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"secondary\"\n            disableElevation\n          >\n            EDIT BOOK\n          </Button>\n        </form>\n      </div>\n    </>\n  );\n};\n\nexport default EditBook;\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { Button, Chip } from '@material-ui/core'\n\nimport { BookInfo } from '../../types'\nimport '../../style/EditAdmin.css'\n\nconst EditAdminIndividual: React.FC<BookInfo> = ({ bookInfo }) => {\n  const history = useHistory()\n\n  const handleClick = () => {\n    let bookId = bookInfo._id\n    history.push(`/admin/book/${bookId}/edit`)\n  }\n\n  return (\n    <>\n      <img\n        alt=\"preview of uploaded book\"\n        src={bookInfo.imageUrl}\n        style={{ width: '100px', height: 'auto' }}\n        className=\"EditAdmin-Image\"\n      />\n      <p> {bookInfo.title} </p>\n      <div>\n        {bookInfo.authors?.map((author) => (\n          <Chip key={author} label={author} />\n        ))}\n      </div>\n      <p> {bookInfo.isbn} </p>\n      <div>\n        <Button\n          variant=\"contained\"\n          size=\"small\"\n          disableElevation\n          onClick={handleClick}\n        >\n          Edit\n        </Button>\n      </div>\n    </>\n  )\n}\n\nexport default EditAdminIndividual","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport Navbar from '../components/Navbar'\nimport { AppState, BookResponse} from '../types'\nimport EditAdminIndividual from '../components/Edit Admin/single'\nimport '../style/EditAdmin.css'\n\nconst EditAdmin = () => {\n  const bookResponse = useSelector((state: AppState) => state.book)\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"EditAdmin-MainContainer\">\n        <h1> ALL BOOKS </h1>\n\n        <div className=\"EditAdmin-List\">\n          {bookResponse.allBooks.map((book: BookResponse) => (\n            <div key={book._id} className=\"EditAdmin-Single\"> \n              <EditAdminIndividual bookInfo={book} />\n            </div>\n          ))}\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default EditAdmin","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  Button,\n  Chip,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  DialogActions,\n} from \"@material-ui/core\";\n\nimport { BookInfo } from \"../../types\";\nimport \"../../style/DeleteAdmin.css\";\nimport { deleteBook } from \"../../redux/actions/bookActions\";\n\nconst DeleteAdminIndividual: React.FC<BookInfo> = ({ bookInfo }) => {\n  const dispatch = useDispatch()\n\n  const [deleteDialog, setDeleteDialog] = useState(false)\n\n  const handleOpen = () => {\n    setDeleteDialog(true)\n  }\n\n  const handleClose = () => {\n    setDeleteDialog(false)\n  }\n\n  const handleDelete = () => {\n    if (bookInfo._id) {\n      dispatch(deleteBook(bookInfo._id))\n    }\n  }\n\n  return (\n    <>\n      <Dialog\n        open={deleteDialog}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{\"Delete?\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            Deleting book title: <strong> {bookInfo.title} </strong> <br></br>\n            Choose 'Delete' to confirm!\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button\n            onClick={handleDelete}\n            color=\"secondary\"\n            variant=\"contained\"\n            disableElevation\n          >\n            Delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <img\n        alt=\"preview of uploaded book\"\n        src={bookInfo.imageUrl}\n        style={{ width: \"100px\", height: \"auto\" }}\n        className=\"DeleteAdmin-Image\"\n      />\n      <p> {bookInfo.title} </p>\n      <div>\n        {bookInfo.authors?.map((author) => (\n          <Chip key={author} label={author} />\n        ))}\n      </div>\n      <p> {bookInfo.isbn} </p>\n      <div>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          disableElevation\n          onClick={handleOpen}\n        >\n          Delete\n        </Button>\n      </div>\n    </>\n  );\n};\n\nexport default DeleteAdminIndividual;\n","import React, { useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport Alert from '@material-ui/lab/Alert'\n\nimport Navbar from '../components/Navbar'\nimport { AppState, BookResponse } from '../types'\nimport DeleteAdminIndividual from '../components/Delete Admin/single'\nimport { hideBookMessage } from '../redux/actions/bookActions'\nimport '../style/DeleteAdmin.css'\n\nconst DeleteAdmin = () => {\n  const history = useHistory()\n  const dispatch = useDispatch()\n  const bookResponse = useSelector((state: AppState) => state.book)\n  useEffect(() => {\n    dispatch(hideBookMessage())\n  }, [dispatch])\n\n  useEffect(() => {\n    if (bookResponse.message === 'TokenExpiredError') {\n      setTimeout(() => history.push(\"/login\"), 2000)\n    }\n  })\n\n  return (\n    <>  \n      <Navbar />\n      <div className=\"DeleteAdmin-MainContainer\">\n        <h1> ALL BOOKS </h1>\n\n        {bookResponse.status && bookResponse.message ? (\n          <Alert\n            variant=\"filled\"\n            severity={bookResponse.status}\n          >\n           {bookResponse.message}\n          </Alert>\n        ) : (\n          null\n        )}\n\n        <div className=\"DeleteAdmin-List\">\n          {bookResponse.allBooks.map((book: BookResponse) => (\n            <div key={book._id} className=\"DeleteAdmin-Single\"> \n              <DeleteAdminIndividual bookInfo={book} />\n            </div>\n          ))}\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default DeleteAdmin","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Paper } from \"@material-ui/core\";\nimport AddCircleOutlineIcon from \"@material-ui/icons/AddCircleOutline\";\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteOutlineOutlinedIcon from '@material-ui/icons/DeleteOutlineOutlined';\n\nimport Navbar from \"../components/Navbar\";\nimport \"../style/Admin.css\";\n\nconst useStyle = makeStyles({\n  icon: {\n    color: \"#D9D9D9\",\n    fontSize: \"70px\",\n    marginBottom: '1rem'\n  },\n});\n\nconst Admin = () => {\n  const style = useStyle();\n  const history = useHistory();\n\n  const handleCreate = () => {\n    history.push(\"/admin/books/create\");\n  };\n\n  const handleEdit = () => {\n    history.push(\"/admin/books/edit\");\n  };\n\n  const handleDelete = () => {\n    history.push(\"/admin/books/delete\");\n  };\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"Admin-MainContainer\">\n        <div className=\"Admin-Card\">\n          <Paper\n            elevation={0}\n            onClick={handleCreate}\n          >\n            <AddCircleOutlineIcon classes={{ root: style.icon }} />\n            <h2> CREATE </h2>\n          </Paper>\n\n          <Paper\n            elevation={0}\n            onClick={handleEdit}\n          >\n            <EditIcon classes={{ root: style.icon }} />\n            <h2> EDIT</h2>\n          </Paper>\n\n          <Paper\n            elevation={0}\n            onClick={handleDelete}\n          >\n            <DeleteOutlineOutlinedIcon classes={{ root: style.icon }} />\n            <h2> DELETE </h2>\n          </Paper>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Admin;\n","import React, { useEffect } from 'react'\nimport * as Yup from 'yup'\nimport axios from 'axios'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { TextField, Button, makeStyles } from '@material-ui/core'\nimport { Formik, Form, FormikProps } from 'formik'\nimport Alert from '@material-ui/lab/Alert'\nimport { Tooltip, IconButton, Zoom } from '@material-ui/core'\nimport HelpIcon from '@material-ui/icons/Help'\n\nimport { RegisterForm, AppState } from '../types'\nimport Navbar from '../components/Navbar'\nimport { hideMessage, registerSucceed, loginFailed } from '../redux/actions/userActions'\nimport '../style/Register.css'\n\nconst useStyle = makeStyles({\n  name: {\n    margin: '1rem',\n    backgroundColor: '#E8E8E8',\n    flexBasis: '50%',\n  },\n  form: {\n    margin: '1rem',\n    backgroundColor: '#E8E8E8',\n    width: '400px',\n  },\n  message: {\n    margin: '2rem 0',\n  },\n  button: {\n    display: 'block',\n    margin: '1rem',\n  },\n})\n\nconst Register = () => {\n  const style = useStyle()\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const userResponse = useSelector((state: AppState) => state.user)\n  useEffect(() => {\n    dispatch(hideMessage())\n  }, [dispatch])\n\n  useEffect(() => {\n    if (userResponse.status === 'success') {\n      setTimeout(() => history.push(\"/login\"), 2000)\n    }\n  }, [userResponse.status, history])\n\n  const createNewUser = async (values: RegisterForm) => {\n    try {\n      let { fullName, email, username, password } = values\n      let res = await axios.post(\n        'https://infinite-bayou-72273.herokuapp.com/api/v1/users/register',\n        { fullName, email, username, password },\n        { withCredentials: true }\n      )\n      dispatch(registerSucceed(res.data))\n    } catch (error) {\n      dispatch(loginFailed(error.response.data))\n    }\n  }\n\n  return (\n    <div className=\"Register-MainContainer\">\n        <Navbar />\n        <div className=\"Register-Background\">\n          <svg viewBox=\"0 0 200 200\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path\n              fill=\"#044BD9\"\n              d=\"M49.9,-57.1C65.8,-46.2,80.4,-31.5,84.8,-13.9C89.1,3.7,83.2,24.2,71.7,39C60.3,53.8,43.2,62.9,25,70.3C6.7,77.7,-12.9,83.4,-28.7,78C-44.6,72.6,-56.7,56.2,-65.9,38.8C-75.2,21.3,-81.5,2.9,-78.9,-14.3C-76.3,-31.6,-64.9,-47.6,-50.3,-58.7C-35.6,-69.9,-17.8,-76,-0.4,-75.5C17,-75.1,34.1,-68,49.9,-57.1Z\"\n              transform=\"translate(100 100)\"\n            />\n          </svg>\n        </div>\n        <div className=\"Register-Card\">\n          <h1> REGISTER </h1>\n          <Formik\n            initialValues={{\n              fullName: '',\n              username: '',\n              email: '',\n              password: '',\n              confirmPassword: '',\n            }}\n            onSubmit={(values: RegisterForm, actions) => {\n              createNewUser(values)\n            }}\n            validationSchema={Yup.object().shape({\n              email: Yup.string().email().required('Please enter valid email'),\n              fullName: Yup.string().required('Please enter first name'),\n              username: Yup.string()\n                .matches(/^[a-zA-Z0-9.-_]{3,30}$/)\n                .required('Invalid username'),\n              password: Yup.string()\n                .matches(/^(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*]).{8,20}\\S$/)\n                .required('Invalid password'),\n              confirmPassword: Yup.string()\n                .required('Required')\n                .test('password-match', 'Password must match', function (\n                  value\n                ) {\n                  return this.parent.password === value\n                }),\n            })}\n          >\n            {(props: FormikProps<RegisterForm>) => {\n              const {\n                values,\n                touched,\n                errors,\n                handleBlur,\n                handleChange,\n                isSubmitting,\n              } = props\n              return (\n                <Form>\n                  {userResponse.status && userResponse.message ? (\n                    <Alert\n                      variant=\"filled\"\n                      severity={userResponse.status}\n                      classes={{ root: style.message }}\n                    >\n                      {userResponse.message}\n                    </Alert>\n                  ) : null}\n\n                  <div className=\"Register-Form\">\n                    <div>\n                      <TextField\n                        classes={{ root: style.form }}\n                        name=\"fullName\"\n                        id=\"fullName\"\n                        label=\"Full Name\"\n                        variant=\"outlined\"\n                        value={values.fullName}\n                        type=\"text\"\n                        helperText={\n                          errors.fullName && touched.fullName\n                            ? errors.fullName\n                            : ''\n                        }\n                        error={\n                          errors.fullName && touched.fullName ? true : false\n                        }\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                      />\n                    </div>\n\n                    <div>\n                      <TextField\n                        classes={{ root: style.form }}\n                        name=\"email\"\n                        id=\"email\"\n                        label=\"Email\"\n                        variant=\"outlined\"\n                        value={values.email}\n                        type=\"email\"\n                        helperText={\n                          errors.email && touched.email ? errors.email : ''\n                        }\n                        error={errors.email && touched.email ? true : false}\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                      />\n                    </div>\n\n                    <div className=\"Register-Fields\">\n                      <TextField\n                        classes={{ root: style.form }}\n                        name=\"username\"\n                        id=\"username\"\n                        label=\"Username\"\n                        variant=\"outlined\"\n                        value={values.username}\n                        type=\"text\"\n                        helperText={\n                          errors.username && touched.username\n                            ? errors.username\n                            : ''\n                        }\n                        error={\n                          errors.username && touched.username ? true : false\n                        }\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                      />\n                      <Tooltip\n                        title=\"Allowed special characters are: -, _ or .\"\n                        TransitionComponent={Zoom}\n                      >\n                        <IconButton aria-label=\"help\">\n                          <HelpIcon />\n                        </IconButton>\n                      </Tooltip>\n                    </div>\n\n                    <div className=\"Register-Fields\">\n                      <TextField\n                        classes={{ root: style.form }}\n                        name=\"password\"\n                        id=\"password\"\n                        label=\"Password\"\n                        variant=\"outlined\"\n                        value={values.password}\n                        type=\"password\"\n                        helperText={\n                          errors.password && touched.password\n                            ? 'Invalid password'\n                            : ''\n                        }\n                        error={\n                          errors.password && touched.password ? true : false\n                        }\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                      />\n                      <Tooltip\n                        title=\"Valid password: At least 8 characters, start with at least 1 uppercase & contain at least 1 special character.\"\n                        TransitionComponent={Zoom}\n                      >\n                        <IconButton aria-label=\"help\">\n                          <HelpIcon />\n                        </IconButton>\n                      </Tooltip>\n                    </div>\n\n                    <div>\n                      <TextField\n                        classes={{ root: style.form }}\n                        name=\"confirmPassword\"\n                        id=\"confirmPassword\"\n                        label=\"Confirm password\"\n                        variant=\"outlined\"\n                        value={values.confirmPassword}\n                        type=\"password\"\n                        helperText={\n                          errors.confirmPassword && touched.confirmPassword\n                            ? errors.confirmPassword\n                            : ''\n                        }\n                        error={\n                          errors.confirmPassword && touched.confirmPassword\n                            ? true\n                            : false\n                        }\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                      />\n                    </div>\n\n                    <div className=\"Register-Button\">\n                      <Button\n                        classes={{ root: style.button }}\n                        type=\"submit\"\n                        variant=\"contained\"\n                        size=\"large\"\n                        disableElevation\n                        disabled={isSubmitting}\n                      >\n                        Submit\n                      </Button>\n                    </div>\n                  </div>\n                </Form>\n              )\n            }}\n          </Formik>\n        </div>\n      </div>\n  )\n}\n\nexport default Register","import React from 'react'\nimport axios from 'axios'\nimport { useDispatch } from 'react-redux'\nimport { GoogleLogin } from 'react-google-login'\nimport { faGoogle } from '@fortawesome/free-brands-svg-icons'\nimport { Button } from '@material-ui/core'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { loginSucceed, loginFailed } from '../../redux/actions/userActions'\n\nconst GoogleLoginButton = () => {\n  const dispatch = useDispatch()\n\n  const googleResponse = async (response: any) => {\n    try {\n      let res = await axios.post(\n        'https://infinite-bayou-72273.herokuapp.com/auth/google-authenticate',\n        { id_token: response.tokenObj.id_token },\n        { withCredentials: true }\n      )\n      dispatch(loginSucceed({\n        data: res.data,\n        status: 'success',\n        message: 'Login Successfully!'\n      }))\n    } catch (error) {\n      dispatch(loginFailed({\n        status: 'error',\n        message: 'Please try again!'\n      }))\n    }\n  }\n\n  return (\n    <>\n      <GoogleLogin\n        clientId=\"1043958463190-iofnt0tfeollg0kjgvo4o7ve6hphrplp.apps.googleusercontent.com\"\n        render={(renderProps) => (\n          <Button\n            onClick={renderProps.onClick}\n            disabled={renderProps.disabled}\n            variant=\"text\"\n            startIcon={<FontAwesomeIcon icon={faGoogle} />}\n          >\n            Login with Google\n          </Button>\n        )}\n        buttonText=\"Login\"\n        onSuccess={googleResponse}\n        onFailure={googleResponse}\n        cookiePolicy={'single_host_origin'}\n      />\n    </>\n  )\n}\n\nexport default GoogleLoginButton","import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Alert from '@material-ui/lab/Alert'\nimport { Button, TextField, Link } from '@material-ui/core'\n\nimport { AppState } from '../../types'\nimport { login, hideMessage } from '../../redux/actions/userActions'\nimport GoogleLoginButton from '../Navbar/google'\nimport '../../style/Login.css'\n\nconst useStyle = makeStyles({\n  body: {\n    margin: '4rem',\n  },\n  form: {\n    width: '400px',\n    margin: '1rem 0',\n    backgroundColor: '#E8E8E8'\n  },\n  message: {\n    margin: '2rem 0',\n  },\n  button: {\n    alignSelf: 'flex-end',\n    margin: '0',\n    width: '100px'\n  },\n})\n\nconst LoginCard = () => {\n  const style = useStyle()\n  const history = useHistory()\n  const dispatch = useDispatch()\n  const userResponse = useSelector((state: AppState) => state.user)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const { user } = userResponse\n\n  useEffect(() => {\n    dispatch(hideMessage())\n  }, [dispatch])\n\n  useEffect(() => {\n    if (userResponse.status === 'success' && user) {\n      setTimeout(() => history.push(\"/\"), 2000)\n    }\n  }, [userResponse.status, history, user])\n\n  const submitHandler = async (e: React.ChangeEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    dispatch(login(username, password))\n  }\n\n  const handleRegister = () => {\n    history.push('/register')\n  }\n\n  return (\n    <div className=\"Login-Card\">\n      <h1> LOGIN </h1>\n        {userResponse.status && userResponse.message ? (\n          <Alert\n            variant=\"filled\"\n            severity={userResponse.status}\n            classes={{ root: style.message }}\n          >\n           {userResponse.message}\n          </Alert>\n        ) : (\n          null\n        )}\n\n        <form onSubmit={submitHandler} className=\"Login-Form\">\n          <TextField\n            classes={{ root: style.form }}\n            name=\"username\"\n            id=\"username\"\n            label=\"Username\"\n            variant=\"outlined\"\n            value={username}\n            type=\"text\"\n            onChange={(e) => setUsername(e.target.value)}\n          />\n\n          <TextField\n            classes={{ root: style.form }}\n            name=\"password\"\n            id=\"password\"\n            label=\"Password\"\n            value={password}\n            variant=\"outlined\"\n            type=\"password\"\n            onChange={(e) => setPassword(e.target.value)}\n          />\n\n          <Button\n            classes={{ root: style.button }}\n            type=\"submit\"\n            variant=\"contained\"\n            size=\"large\"\n            disableElevation\n          >\n            Login\n          </Button>\n          \n          <div className=\"Login-Divider\">\n            <hr/>\n            <p> or </p>\n            <hr/>\n          </div>\n\n          <div className=\"Login-Google\">\n            <GoogleLoginButton />\n          </div>\n\n          <div className=\"Login-Register\">\n            <p> Don't have an account? </p>\n            <Link component=\"span\" onClick={handleRegister}> Register </Link>\n          </div>\n        </form>\n    </div>\n  )\n}\n\nexport default LoginCard","import React from 'react'\n\nimport Navbar from '../components/Navbar'\nimport LoginCard from '../components/Login Card/login'\nimport '../style/Login.css'\n\nconst Login = () => {\n  return (\n    <div className=\"Login-MainContainer\">\n      <Navbar />\n      <div className=\"Login-Background\">\n        <svg viewBox=\"0 0 200 200\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path\n            fill=\"#044BD9\"\n            d=\"M49.9,-57.1C65.8,-46.2,80.4,-31.5,84.8,-13.9C89.1,3.7,83.2,24.2,71.7,39C60.3,53.8,43.2,62.9,25,70.3C6.7,77.7,-12.9,83.4,-28.7,78C-44.6,72.6,-56.7,56.2,-65.9,38.8C-75.2,21.3,-81.5,2.9,-78.9,-14.3C-76.3,-31.6,-64.9,-47.6,-50.3,-58.7C-35.6,-69.9,-17.8,-76,-0.4,-75.5C17,-75.1,34.1,-68,49.9,-57.1Z\"\n            transform=\"translate(100 100)\"\n          />\n        </svg>\n      </div>\n      <div className=\"Login-Card\">\n        <LoginCard />\n      </div>\n    </div>\n  )\n}\n\nexport default Login","import React, { useState, useEffect } from \"react\";\nimport axios from 'axios'\nimport { useDispatch } from 'react-redux'\nimport { IconButton } from \"@material-ui/core\";\nimport PhotoCameraIcon from \"@material-ui/icons/PhotoCamera\";\n\nimport { UserProps } from \"../../types\";\nimport { editUser, updateUser } from '../../redux/actions/userActions'\nimport '../../style/UserProfile.css'\n\nconst UploadButton: React.FC<UserProps> = ({ userInfo }) => {\n  const dispatch = useDispatch()\n  const userId = userInfo._id as string\n  const [changeState, setChanges] = useState({\n    fullName: userInfo.fullName,\n    username: userInfo.username,\n    email: userInfo.email,\n    imageUrl: userInfo.imageUrl\n  })\n\n  useEffect(() => {\n    const editUserAvatar = async () => {\n      if (changeState.imageUrl !== userInfo.imageUrl) {\n        await dispatch(editUser(userId, changeState))\n        dispatch(updateUser(userId))\n      }\n    }\n    editUserAvatar()\n  }, [dispatch, changeState, userId, userInfo.imageUrl])\n\n  const handleUpload = async (e: React.ChangeEvent<any>) => {\n    const files = e.target.files\n    const form = new FormData()\n    form.append('file', files[0])\n    form.append('upload_preset', 'libman')\n    form.append('cloud_name', 'dapyxdvj5')\n    const { data } = await axios.post(\n      'https://api.cloudinary.com/v1_1/dapyxdvj5/image/upload',\n      form\n    )\n    setChanges({\n      ...changeState,\n      imageUrl: data.secure_url\n    })\n  }\n\n  return (\n    <>\n      <input\n        type=\"file\"\n        name=\"file\"\n        placeholder=\"Upload an image\"\n        id=\"icon-button-file\"\n        className=\"LeftSide-UploadButton\"\n        onChange={handleUpload}\n      />\n      <label htmlFor=\"icon-button-file\">\n        <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\n          <PhotoCameraIcon />\n        </IconButton>\n      </label>\n    </>\n  );\n};\n\nexport default UploadButton;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Avatar, Badge } from '@material-ui/core'\n\nimport { UserProps } from '../../types'\nimport UploadButton from './uploadButton'\n\nconst useStyles = makeStyles({\n  avatar: {\n    height: \"120px\",\n    width: '120px'\n  }\n});\n\nconst ProfileAvatar: React.FC<UserProps> = ({ userInfo }) => {\n  const style = useStyles()\n  return (\n   \n     <Badge \n      overlap=\"circle\"\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'right'\n      }}\n      badgeContent={<UploadButton userInfo={userInfo} />}\n      >\n      <Avatar\n        src={userInfo.imageUrl}\n        classes={{root: style.avatar}}\n      />\n     </Badge>\n   \n  )\n};\n\nexport default ProfileAvatar;\n","import React from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { returnBook } from '../../redux/actions/bookActions'\nimport { updateUser } from '../../redux/actions/userActions'\nimport { UserProps, AppState } from \"../../types\";\nimport \"../../style/UserProfile.css\";\n\nconst BorrowSection: React.FC<UserProps> = ({ userInfo }) => {\n  const dispatch = useDispatch()\n  const { user } = useSelector((state: AppState) => state.user)\n\n  const handleReturn = (bookId: string) => async (e: React.MouseEvent<HTMLButtonElement>) =>  {\n    let userId = user._id\n    await dispatch(returnBook(bookId))\n    await dispatch(updateUser(userId)) \n  }\n\n  return (\n    <>\n      <h2> Borrows ({userInfo.borrows?.length}) </h2>\n      <div className=\"RightSide-Content\" style={{display: userInfo.borrows?.length ? 'block' : 'none'}}>\n        <div className=\"RightSide-BorrowTableHead\">\n          <div style={{ fontWeight: \"bolder\" }}> </div>\n          <div style={{ fontWeight: \"bolder\" }}> Title </div>\n          <div style={{ fontWeight: \"bolder\" }}> Borrow Date </div>\n          <div style={{ fontWeight: \"bolder\" }}> Due Date </div>\n          <div style={{ fontWeight: \"bolder\" }}> </div>\n        </div>\n\n        <div className=\"RightSide-BorrowList\">\n          {userInfo.borrows?.map((borrowedBook) => (\n            <div className=\"Borrows-Individual\" key={borrowedBook._id}>\n              <img\n                alt=\"preview of uploaded book\"\n                src={borrowedBook.book.imageUrl}\n                style={{ width: \"100px\", height: \"auto\" }}\n              />\n              <p> {borrowedBook.book.title} </p>\n              <p>\n                {new Date(borrowedBook.borrowDate).toLocaleDateString(\"en-gb\")}\n              </p>\n              <p>\n                {new Date(borrowedBook.dueDate).toLocaleDateString(\"en-gb\")}\n              </p>\n              <div>\n                <Button \n                  variant=\"contained\" \n                  size=\"small\" \n                  disableElevation \n                  onClick={handleReturn(borrowedBook.book._id)}\n                >\n                  Return\n                </Button>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default BorrowSection;\n","import React from \"react\";\n\nimport { UserProps } from \"../../types\";\nimport \"../../style/UserProfile.css\";\n\nconst ReturnSection: React.FC<UserProps> = ({ userInfo }) => {\n  return (\n    <>\n      <h4> Returns </h4>\n      <div className=\"RightSide-Content\">\n        <div className=\"RightSide-ReturnTableHead\">\n          <div style={{ fontWeight: \"bolder\" }}> </div>\n          <div style={{ fontWeight: \"bolder\" }}> Title </div>\n          <div style={{ fontWeight: \"bolder\" }}> Due Date </div>\n          <div style={{ fontWeight: \"bolder\" }}> Return Date </div>\n          <div style={{ fontWeight: \"bolder\" }}> </div>\n        </div>\n\n        <div className=\"RightSide-ReturnList\">\n          {userInfo.returns?.map((returnedBook) => (\n            returnedBook.returnDate ? (\n              <div className=\"Returns-Individual\" key={returnedBook._id}>\n                <div className=\"Returns-Image\">\n                  <img\n                    alt=\"preview of uploaded book\"\n                    src={returnedBook.book.imageUrl}\n                    style={{ width: \"100px\", height: \"auto\" }}\n                  />\n                </div>\n                <p> {returnedBook.book.title} </p>\n                <p>\n                  {new Date(returnedBook.dueDate).toLocaleDateString(\"en-gb\")}\n                </p>\n                <p>\n                  {new Date(returnedBook.returnDate).toLocaleDateString(\n                    \"en-gb\"\n                  )}\n                </p>\n                <div>\n                  {returnedBook.returnDate - returnedBook.dueDate < 0\n                    ? \"Overdue\"\n                    : null}\n                </div>\n              </div>\n            ) : null\n          ))}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default ReturnSection;\n","import React, { useEffect, useState } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { InputBase, Button } from \"@material-ui/core\";\nimport EmailIcon from \"@material-ui/icons/Email\";\nimport AlternateEmailIcon from \"@material-ui/icons/AlternateEmail\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nimport Navbar from \"../components/Navbar\";\nimport ProfileAvatar from \"../components/Avatar/profile\";\nimport { AppState, ProfileRouteInfo } from \"../types\";\nimport {\n  updateUser,\n  editUser,\n  hideMessage,\n  logout,\n} from \"../redux/actions/userActions\";\nimport BorrowSection from \"../components/User Profile/borrows\";\nimport ReturnSection from \"../components/User Profile/returns\";\nimport \"../style/UserProfile.css\";\n\nconst useStyles = makeStyles({\n  fullName: {\n    fontSize: \"32px\",\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n  },\n});\n\nconst UserProfile = ({ match }: RouteComponentProps<ProfileRouteInfo>) => {\n  const userId = match.params.userId;\n  const style = useStyles();\n  const dispatch = useDispatch();\n  const userResponse = useSelector((state: AppState) => state.user);\n  const { user } = userResponse;\n  const [isEditing, setEditing] = useState(false);\n  const [changeState, setChanges] = useState({\n    fullName: user.fullName,\n    username: user.username,\n    email: user.email,\n    imageUrl: user.imageUrl\n  })\n\n  useEffect(() => {\n    dispatch(hideMessage());\n  }, [dispatch]);\n\n  useEffect(() => {\n    dispatch(updateUser(userId));\n  }, [dispatch, userId]);\n\n  useEffect(() => {\n    if (\n      userResponse.message === \"TokenExpiredError\" ||\n      userResponse.message === \"No valid token. Please log in!\"\n    ) {\n      dispatch(logout());\n    } \n  }, [userResponse, dispatch]);\n\n  const handleFullnameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setChanges({\n      ...changeState,\n      fullName: e.target.value\n    });\n    setEditing(true);\n  };\n\n  const handleUsernameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setChanges({\n      ...changeState,\n      username: e.target.value\n    });\n    setEditing(true);\n  };\n\n  const handleEmailChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setChanges({\n      ...changeState,\n      email: e.target.value\n    });\n    setEditing(true);\n  };\n\n  const submitHandler = async (e: React.ChangeEvent<any>) => {\n    e.preventDefault()\n    await dispatch(editUser(userId, changeState));\n    setEditing(false);\n    dispatch(updateUser(userId));\n  };\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"UserProfile-MainContainer\">\n        <div className=\"UserProfile-Alert\">\n          {userResponse.status && userResponse.message ? (\n            <Alert variant=\"filled\" severity={userResponse.status}>\n              {userResponse.message}\n            </Alert>\n          ) : null}\n        </div>\n        <div className=\"UserProfile-Content\">\n          <div className=\"UserProfile-LeftSide\">\n            <div className=\"LeftSide-Avatar\">\n              <ProfileAvatar userInfo={user} />\n            </div>\n\n            <form onSubmit={submitHandler}>\n              <div className=\"LeftSide-Fullname\">\n                <InputBase\n                  type=\"text\"\n                  value={changeState.fullName}\n                  classes={{ input: style.fullName }}\n                  onChange={handleFullnameChange}\n                  required\n                />\n              </div>\n\n              <div className=\"LeftSide-Username\">\n                <AlternateEmailIcon />\n                <div>\n                  <InputBase\n                    type=\"text\"\n                    value={changeState.username}\n                    onChange={handleUsernameChange}\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className=\"LeftSide-BasicInfo\">\n                <EmailIcon />\n                <div>\n                  <InputBase\n                    type=\"email\"\n                    value={changeState.email}\n                    onChange={handleEmailChange}\n                    required\n                  />\n                </div>\n              </div>\n\n              <div\n                className=\"LeftSide-SaveButton\"\n                style={{ display: isEditing ? \"block\" : \"none\" }}\n              >\n                <Button\n                  type=\"submit\"\n                  variant=\"contained\"\n                  size=\"small\"\n                  disableElevation\n                >\n                  Save\n                </Button>\n              </div>\n            </form>\n          </div>\n\n          <div className=\"UserProfile-RightSide\">\n            <div className=\"RightSide-BorrowSection\">\n              <BorrowSection userInfo={user} />\n            </div>\n            <div className=\"RightSide-ReturnSection\">\n              <ReturnSection userInfo={user} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default UserProfile;\n","import React from 'react'\nimport { Typography, Link } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport { AuthorProps } from '../../types'\n\nconst useStyles = makeStyles({\n  author: {\n    marginRight: '5px',\n  },\n})\n\nconst BookAuthor: React.FC<AuthorProps> = ({ authorsState }) => {\n  const style = useStyles()\n\n  return (\n    <Typography variant=\"subtitle2\" component=\"h2\">\n      Authors:{' '}\n      {authorsState.map((author) => {\n        if (\n          authorsState.indexOf(author) ===\n          authorsState.length - 1\n        ) {\n          return (\n            <Link\n              href=\"#\"\n              /* onClick={preventDefault} */ key={author}\n              classes={{ root: style.author }}\n            >\n              {author}\n            </Link>\n          )\n        } else {\n          return (\n            <Link\n              href=\"#\"\n              /* onClick={preventDefault} */ key={author}\n              classes={{ root: style.author }}\n            >\n              {author},\n            </Link>\n          )\n        }\n      })}\n    </Typography>\n  )\n}\n\nexport default BookAuthor","import React, { useEffect } from 'react'\nimport { Button } from \"@material-ui/core\";\nimport { useHistory } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport CallReceivedIcon from '@material-ui/icons/CallReceived'\n\nimport { BorrowProps, AppState } from '../../types'\nimport { borrowBook } from '../../redux/actions/bookActions'\nimport { updateUser, logout } from '../../redux/actions/userActions'\n\nconst BookActionBorrow: React.FC<BorrowProps> = ({ bookUrl, quantity }) => {\n  const history = useHistory()\n  const dispatch = useDispatch()\n  const userResponse = useSelector((state: AppState) => state.user);\n  const bookResponse = useSelector((state: AppState) => state.book);\n\n  useEffect(() => {\n    if (\n      userResponse.message === \"TokenExpiredError\" ||\n      bookResponse.message === \"TokenExpiredError\" ||\n      userResponse.message === \"No valid token. Please log in!\") {\n      dispatch(logout())\n      history.push(\"/login\")\n    }\n  });\n\n  const handleBorrow = async () => {\n    if (!userResponse.user) {\n      history.push('/login')\n    } else if (userResponse.user) {\n      let userId = userResponse.user._id\n      await dispatch(borrowBook(bookUrl))\n      dispatch(updateUser(userId))\n    }\n  }\n\n  return (\n    <Button\n      variant=\"contained\"\n      size=\"small\"\n      endIcon={<CallReceivedIcon />}\n      onClick={handleBorrow}\n      disableElevation\n      disabled={quantity === 0 ? true : false}\n    >\n      Borrow\n    </Button>\n  )\n}\n\nexport default BookActionBorrow","import React, { useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Button } from '@material-ui/core'\nimport CallMadeIcon from '@material-ui/icons/CallMade'\n\nimport { returnBook } from '../../redux/actions/bookActions'\nimport { updateUser, logout } from '../../redux/actions/userActions'\nimport { ReturnProps, AppState } from '../../types'\n\nconst BookActionReturn: React.FC<ReturnProps> = ({ bookUrl }) => {\n  const history = useHistory()\n  const dispatch = useDispatch()\n  const userResponse = useSelector((state: AppState) => state.user);\n  const bookResponse = useSelector((state: AppState) => state.book);\n  \n  useEffect(() => {\n    if (\n      userResponse.message === \"TokenExpiredError\" ||\n      userResponse.message === \"No valid token. Please log in!\" || \n      bookResponse.message === \"TokenExpiredError\") {\n      dispatch(logout())\n      history.push(\"/login\")\n    }\n  })\n\n  const handleReturn = async () => {\n    if (!userResponse.user) {\n      history.push('/login')\n    } else if (userResponse.user) {\n      let userId = userResponse.user._id\n      await dispatch(returnBook(bookUrl))\n      dispatch(updateUser(userId))\n    }\n  }\n\n  return (\n    <Button\n      variant=\"contained\"\n      size=\"small\"\n      endIcon={<CallMadeIcon />}\n      onClick={handleReturn}\n      disableElevation\n    >\n      Return\n    </Button>\n  )\n}\n\nexport default BookActionReturn","import React, { useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Typography,\n  Button,\n  Chip\n} from '@material-ui/core'\nimport CheckIcon from '@material-ui/icons/Check'\nimport CloseIcon from '@material-ui/icons/Close'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\n\nimport { BookAccordionProps } from '../../types'\n\nconst useStyles = makeStyles({\n  root: {\n    width: '100%',\n  },\n  chip: {\n    marginRight: '10px'\n  }\n})\n\nconst BookAccordion: React.FC<BookAccordionProps> = ({\n  isbn,\n  publisher,\n  publishYear,\n  quantity,\n  description,\n  categories\n}) => {\n  const [expanded, setExpanded] = useState<string | false>('description')\n  const style = useStyles()\n  \n  const handleChange = (panel: string) => (\n    event: React.ChangeEvent<{}>,\n    newExpanded: boolean\n  ) => {\n    setExpanded(newExpanded ? panel : false)\n  }\n\n  return (\n    <>\n      <Accordion\n        square\n        expanded={expanded === 'description'}\n        onChange={handleChange('description')}\n      >\n        <AccordionSummary\n          aria-controls=\"description-content\"\n          id=\"description-header\"\n          expandIcon={<ExpandMoreIcon />}\n        >\n          <Typography> Description </Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Typography>\n            {description}\n          </Typography>\n        </AccordionDetails>\n      </Accordion>\n\n      <Accordion\n        square\n        expanded={expanded === 'isbn'}\n        onChange={handleChange('isbn')}\n      >\n        <AccordionSummary aria-controls=\"isbn-content\" id=\"isbn-header\" expandIcon={<ExpandMoreIcon />}>\n          <Typography> ISBN </Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Typography>\n            <li> ISBN: {isbn} </li>\n          </Typography>\n        </AccordionDetails>\n      </Accordion>\n      <Accordion\n        square\n        expanded={expanded === 'publish'}\n        onChange={handleChange('publish')}\n      >\n        <AccordionSummary aria-controls=\"publish-content\" id=\"publish-header\" expandIcon={<ExpandMoreIcon />}>\n          <Typography> Publish </Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Typography>\n            <li> Publish year: {publishYear} </li>\n            <li> Publisher: {publisher} </li>\n          </Typography>\n        </AccordionDetails>\n      </Accordion>\n      <Accordion\n        square\n        expanded={expanded === 'genre'}\n        onChange={handleChange('genre')}\n      >\n        <AccordionSummary aria-controls=\"genre-content\" id=\"genre-header\" expandIcon={<ExpandMoreIcon />}>\n          <Typography> Genre </Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          {categories.map(item => (\n            <Chip variant=\"outlined\" color=\"primary\" label={item} classes={{root: style.chip}} key={item}/>\n          ))}\n        </AccordionDetails>\n      </Accordion>\n      <Accordion\n        square\n        expanded={expanded === 'status'}\n        onChange={handleChange('status')}\n      >\n        <AccordionSummary aria-controls=\"publish-content\" id=\"publish-header\" expandIcon={<ExpandMoreIcon />}>\n          <Typography> Status </Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Typography>\n            { quantity === 0\n              ? \n                <Button variant=\"text\" color=\"secondary\" startIcon={<CloseIcon />}>\n                  Not Available\n                </Button>\n              :\n                <Button variant=\"text\" color=\"primary\" startIcon={<CheckIcon />}>\n                  Available\n                </Button>\n            }\n          </Typography>\n        </AccordionDetails>\n      </Accordion>\n    </>\n  )\n}\n\nexport default BookAccordion","import React, { useEffect } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Typography } from \"@material-ui/core\";\n\nimport Navbar from \"../components/Navbar\";\nimport BookAuthor from \"../components/Book Detail/author\";\nimport { fetchIndividualBook } from \"../redux/actions/bookActions\";\nimport BookActionBorrow from \"../components/Book Detail/borrow\";\nimport BookActionReturn from \"../components/Book Detail/return\";\nimport BookAccordion from \"../components/Book Detail/accordion\";\nimport { hideMessage } from \"../redux/actions/userActions\";\nimport { AppState, EditRouteInfo, UserBorrowBook } from \"../types\";\nimport \"../style/BookDetail.css\";\n\nconst BookDetail = ({ match }: RouteComponentProps<EditRouteInfo>) => {\n  const bookId = match.params.bookId;\n  const dispatch = useDispatch();\n  const userResponse = useSelector((state: AppState) => state.user);\n  const { singleBook } = useSelector((state: AppState) => state.book);\n\n  useEffect(() => {\n    dispatch(fetchIndividualBook(bookId));\n  }, [bookId, dispatch]);\n\n  useEffect(() => {\n    dispatch(hideMessage());\n  }, [dispatch]);\n\n  return (\n    <>\n      <Navbar />\n      {singleBook && singleBook._id === bookId ? (\n        <div className=\"BookDetail-MainContainer\">\n          <div className=\"BookDetail-Image\">\n            <img\n              alt=\"book cover\"\n              src={singleBook.imageUrl}\n              style={{ minWidth: \"300px\", maxWidth: \"320px\", height: \"auto\" }}\n            />\n          </div>\n          <div className=\"BookDetail-Info\">\n            <Typography variant=\"h4\" component=\"h1\">\n              {singleBook.title}\n            </Typography>\n\n            <BookAuthor authorsState={singleBook.authors} />\n\n            <div className=\"BookDetail-Accordion\">\n              <BookAccordion\n                isbn={singleBook.isbn}\n                publisher={singleBook.publisher}\n                publishYear={singleBook.publishYear}\n                quantity={singleBook.quantity}\n                description={singleBook.description}\n                categories={singleBook.categories}\n              />\n            </div>\n\n            <div className=\"BookDetail-Button\">\n              {userResponse.user ? (\n                userResponse.user.borrows.length >= 1 &&\n                userResponse.user.borrows.some(\n                  (item: UserBorrowBook) => item.book._id === bookId\n                ) ? (\n                  <BookActionReturn bookUrl={bookId} />\n                ) : (\n                  <BookActionBorrow\n                    bookUrl={bookId}\n                    quantity={singleBook.quantity}\n                  />\n                )\n              ) : (\n                <BookActionBorrow\n                  bookUrl={bookId}\n                  quantity={singleBook.quantity}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      ) : null}\n    </>\n  );\n};\n\nexport default BookDetail;\n","import React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom'\nimport ReportIcon from '@material-ui/icons/Report';\nimport {makeStyles} from '@material-ui/core/styles'\nimport { Paper } from '@material-ui/core'\n\nconst useStyles = makeStyles({\n  container: {\n    position: 'fixed',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    padding: '5rem',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  icon: {\n    fontSize: '100px',\n    color: '#FFBF00'\n  },\n});\n\nconst NotAuthorizedPage = () => {\n  const style = useStyles()\n  const history = useHistory()\n\n  useEffect(() => {\n    setTimeout(() => history.push('/'), 2000)\n  })\n\n  return (\n    <Paper classes={{root: style.container}} elevation={0}>\n      <ReportIcon classes={{root: style.icon}} />\n      <h1> Oops...! Are you lost baby girl? </h1>\n      <h4> Redirecting you to homepage... </h4>\n    </Paper>\n  )\n}\n\nexport default NotAuthorizedPage","import React from 'react'\nimport { Switch, Route } from 'react-router-dom'\n\nimport AdminRoute from './router/AdminRoute'\nimport PrivateRoute from './router/PrivateRoute'\nimport Home from './pages/Home'\nimport CreateBook from './pages/CreateBook'\nimport EditBook from './pages/EditBook'\nimport EditAdmin from './pages/EditAdmin'\nimport DeleteAdmin from './pages/DeleteAdmin'\nimport Admin from './pages/Admin'\nimport Register from './pages/Register'\nimport LogIn from './pages/Login'\nimport UserProfile from './pages/Profile'\nimport BookDetail from './pages/BookDetail'\nimport NotAuthorizedPage from './components/Forbidden/NotAuthorized'\n\nconst Routes = () => (\n  <Switch>\n    <AdminRoute exact={true} path=\"/admin\" component={Admin} />\n    <AdminRoute exact={true} path=\"/admin/books/create\" component={CreateBook} />\n    <AdminRoute exact={true} path=\"/admin/books/edit\" component={EditAdmin} />\n    <AdminRoute exact={true} path=\"/admin/books/delete\" component={DeleteAdmin} />\n    <AdminRoute exact={true} path=\"/admin/book/:bookId/edit\" component={EditBook} />\n    <Route exact path=\"/\" component={Home} />\n    <Route exact path=\"/register\" component={Register} />\n    <Route exact path=\"/login\" component={LogIn} />\n    <Route exact path=\"/book/:bookId\" component={BookDetail} />\n    <Route exact path=\"/forbidden\" component={NotAuthorizedPage} />\n    <PrivateRoute exact path=\"/:userId\" component={UserProfile} />\n  </Switch>\n)\n\nexport default Routes\n","import React from 'react';\n\nimport './App.css';\nimport Routes from './Routes'\n\nfunction App() {\n  return (\n    <>\n      <Routes />\n    </>\n  )\n}\n\nexport default App;\n","import { createMuiTheme } from '@material-ui/core'\nimport createBreakpoints from '@material-ui/core/styles/createBreakpoints'\n/* darkBlue: #044BD9\nmediumBlue: #2B65D9\nlightBlue: #2B76D9\nyellow: #F2AC29\ngrey: #F2F2F2 */\nconst breakpoints = createBreakpoints({})\nexport const lightMode = createMuiTheme({\n  overrides: {\n    MuiAppBar: {\n      root: {\n        height: '50px',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n      },\n      colorPrimary: {\n        backgroundColor: '#ececec',\n      }\n    },\n    MuiButton: {\n      root: {\n        fontFamily: \"Noto Sans JP', sans-serif\",\n        textTransform: 'none',\n        fontSize: '1rem',\n        color: '#044BD9',\n        borderRadius: '20px',\n        margin: '0 5px',\n      },\n      outlinedSizeSmall: {\n        padding: '3px 20px',\n        border: '2px solid #044BD9',\n        fontSize: '1rem',\n        borderRadius: '20px',\n        '&:hover': {\n          padding: '3px 20px',\n          border: '2px solid #044BD9',\n          backgroundColor: '#2B65D9',\n          borderRadius: '20px',\n          color: '#FFFFFF',\n        },\n      },\n      containedSizeSmall: {\n        padding: '3px 20px',\n        fontSize: '1rem',\n        borderRadius: '20px',\n        backgroundColor: '#2B65D9',\n        color: '#FFFFFF',\n        '&:hover': {\n          padding: '3px 20px',\n          backgroundColor: '#F2F2F2',\n          borderRadius: '20px',\n          color: '#044BD9',\n        },\n      },\n      containedSizeLarge: {\n        borderRadius: '20px',\n        backgroundColor: '#2B65D9',\n        color: '#FFFFFF',\n        fontSize: '1.1rem',\n        '&:hover': {\n          backgroundColor: '#F2F2F2',\n          borderRadius: '20px',\n          color: '#044BD9',\n        },\n      },\n      textSizeSmall: {\n        fontSize: '1rem',\n        margin: '0 10px'\n      },\n      containedSecondary: {\n        fontSize: '1rem',\n        backgroundColor: '#E33C1C',\n        borderRadius: '20px',\n        color: '#FFFFFF',\n        '&:hover': {\n          backgroundColor: '#FCF5F4',\n          borderRadius: '20px',\n          color: '#000000',\n        },\n      }\n    },\n    MuiAvatar: {\n      root: {\n        width: '38px',\n        height: '38px',\n        fontSize: '1.2rem',\n        fontFamily: 'Noto Sans JP, sans-serif',\n      },\n    },\n    MuiSelect: {\n      icon: {\n        left: 'calc(100% - 20px)'\n      }\n    },\n    MuiInputLabel: {\n      root: {\n        fontFamily: \"Noto Sans JP, sans-serif\",\n        fontSize: '1rem',\n        fontWeight: 400,\n        lineHeight: '1.1876em',\n        letterSpacing: '0.00938em',\n        color: \"rgba(0, 0, 0, 0.47)\",\n        marginRight: '5px'\n      }\n    },\n    MuiInputBase: {\n      input: {\n        fontFamily: \"Noto Sans JP, sans-serif\",\n        fontSize: '1rem',\n        fontWeight: 400,\n        lineHeight: '1.1876em',\n        letterSpacing: '0.00938em',\n      },\n      colorSecondary: {\n        color: \"#000000\"\n      }\n    },\n    MuiChip: {\n      root: {\n        margin: '5px'\n      }\n    },\n    MuiToolbar: {\n      gutters: {\n        [breakpoints.up('lg')]: {\n          paddingLeft: '2.5rem',\n          paddingRight: '2.5rem'\n        },\n      }\n    },\n    MuiTooltip: {\n      tooltip: {\n        fontSize: '14px'\n      }\n    },\n    MuiBadge: {\n      anchorOriginBottomRightCircle: {\n        top: '74%',\n        right: '-7%'\n      }\n    },\n    MuiIconButton: {\n      colorPrimary: {\n        color: \"#2B65D9\",\n        backgroundColor: \"#ffffff42\"\n      },\n      root: {\n        padding: '10px'\n      }\n    }\n  },\n})\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { CssBaseline } from '@material-ui/core'\n\nimport makeStore from './redux/store'\nimport './index.css';\nimport App from './App';\nimport {lightMode} from './theme/light'\nimport * as serviceWorker from './serviceWorker';\n\nconst store = makeStore()\n\nconst WithProvider = () => (\n  <Provider store={store}>\n    <Router>\n      <ThemeProvider theme={lightMode}>\n        <CssBaseline />\n        <App />\n      </ThemeProvider>\n    </Router>\n  </Provider>\n)\n\nReactDOM.render(<WithProvider />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}